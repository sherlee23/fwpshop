<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="https://edfnhhthztskuuosuasw.supabase.co/storage/v1/object/public/product-photos/icon3.jpg">
    <title>FengWei Pai ç¾é£Ÿå›¢è´­ç³»ç»Ÿ</title>
    
    <!-- æœ¬åœ°æ ·å¼æ–‡ä»¶ -->
    <link rel="stylesheet" href="tailwind.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    
    <!-- ===== å†…åµŒé…ç½®æ–‡ä»¶ - èåˆ PR#1-#8 æ‰€æœ‰é…ç½® ===== -->
    <script>
        // é”‹å‘³æ´¾ç¾é£Ÿå›¢è´­ç³»ç»Ÿ - å®Œæ•´é›†æˆé…ç½®
        // èåˆ PR#1-#8 æ‰€æœ‰å‡çº§åŠŸèƒ½çš„å•æ–‡ä»¶é…ç½®
        window.AppConfig = {
            // ===== Supabase æ•°æ®åº“é…ç½® =====
            SUPABASE_URL: 'https://edfnhhthztskuuosuasw.supabase.co',
            SUPABASE_ANON_KEY: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVkZm5oaHRoenRza3V1b3N1YXN3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk5OTYxMTYsImV4cCI6MjA2NTU3MjExNn0.O3g2gjvsWagmWgmzoeJA8mPampvLYJr-KgqVwXsKoAo',
            
            // ===== ä¸šåŠ¡é…ç½®ä¿¡æ¯ =====
            WHATSAPP_NUMBER: '60162327792',
            ADMIN_PASSWORD: 'fengweipaiadmin',
            SELF_PICKUP_ADDRESS: '667, Jalan 24, Taman Perindustrian Ehsan Jaya, Kepong, 52100, Kuala Lumpur.',
            PRODUCT_IMAGE_BASE_URL: 'https://edfnhhthztskuuosuasw.supabase.co/storage/v1/object/public/product-photos/',
            
            // ===== ä¼šå‘˜ç³»ç»ŸåŠŸèƒ½æ¨¡å—åŒ–å¼€å…³ - PR#8 å‡çº§åŠŸèƒ½ =====
            MEMBER_FEATURES: {
                ENABLED: true,                 // ä¼šå‘˜ç³»ç»Ÿæ€»å¼€å…³
                POINTS_SYSTEM: true,           // ç§¯åˆ†åŠŸèƒ½å¼€å…³ (PR#8)
                LOGIN_REQUIRED: false,         // ç™»å½•åŠŸèƒ½å¼€å…³
                ORDER_HISTORY: true,           // ä¸ªäººè®¢å•å†å²æŸ¥çœ‹å¼€å…³ (PR#8)
                AUTO_MERGE_ORDERS: true,       // è‡ªåŠ¨åˆå¹¶è®¢å•å¼€å…³ (PR#8)
                AUTO_CREATE_MEMBER: true       // è‡ªåŠ¨åˆ›å»ºä¼šå‘˜å¼€å…³ (PR#8)
            },
            
            // ===== å•†å“ç®¡ç†åŠŸèƒ½å¼€å…³ - PR#1-5 å‡çº§åŠŸèƒ½ =====
            PRODUCT_FEATURES: {
                IMAGE_UPLOAD: true,            // å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½ (PR#2,#3)
                CATEGORY_SEARCH: true,         // åˆ†ç±»æœç´¢åŠŸèƒ½ (PR#1)
                LOW_STOCK_ALERT: true,         // ä½åº“å­˜æé†’ (PR#5)
                FIELD_COMPATIBILITY: true      // å­—æ®µå…¼å®¹æ€§ (PR#2,#5)
            },
            
            // ===== è®¢å•ç®¡ç†åŠŸèƒ½å¼€å…³ - PR#2-7 å‡çº§åŠŸèƒ½ =====
            ORDER_FEATURES: {
                ORDER_MERGING: true,           // åˆå¹¶è®¢å• (PR#2,#8) 
                ORDER_ID_OPTIMIZATION: true,   // è®¢å•å·ä¼˜åŒ– (PR#2)
                PAYMENT_PROOF_UPLOAD: true,   // æ”¯ä»˜å‡­è¯ä¸Šä¼  (PR#3,#7)
                ORDER_STATUS_REFINEMENT: true, // è®¢å•çŠ¶æ€ç»†åŒ– (PR#5,#6)
                SHIPPING_NOTIFICATIONS: true   // è¿è´¹é€šçŸ¥ (PR#3)
            },
            
            // ===== åå°ç®¡ç†åŠŸèƒ½å¼€å…³ - PR#1,#4-8 å‡çº§åŠŸèƒ½ =====
            ADMIN_FEATURES: {
                DASHBOARD_ANALYTICS: true,     // æ•°æ®åˆ†æä»ªè¡¨ç›˜ (PR#1,#8)
                MOBILE_RESPONSIVE: true,      // ç§»åŠ¨ç«¯å“åº”å¼ (PR#1,#9)
                PASSWORD_TOGGLE: true,        // å¯†ç å¯è§æ€§åˆ‡æ¢ (PR#7)
                MEMBER_MANAGEMENT: true       // ä¼šå‘˜ç®¡ç†ç•Œé¢ (PR#8)
            },
            
            // ===== æ‰«ç /æ‹ç…§åŠŸèƒ½å¼€å…³ - PR#6,#9 å‡çº§åŠŸèƒ½ =====
            SCAN_PHOTO_FEATURES: {
                QR_SCANNING: true,            // äºŒç»´ç æ‰«æ
                PHOTO_CAPTURE: true,          // æ‹ç…§åŠŸèƒ½
                PAYMENT_QR_DISPLAY: true      // æ”¯ä»˜äºŒç»´ç æ˜¾ç¤º
            },
            
            // ===== é©¬æ¥è¥¿äºšæ‰‹æœºå·éªŒè¯è§„åˆ™ - PR#8 å‡çº§ =====
            PHONE_VALIDATION: {
                ALLOW_LOCAL_FORMAT: true,     // å…è®¸æœ¬åœ°æ ¼å¼ (0162327792)
                ALLOW_INTL_FORMAT: true,      // å…è®¸å›½é™…æ ¼å¼ (60162327792)
                CONVERT_TO_INTL: false,       // ä¿æŒåŸæ ¼å¼å­˜å‚¨ï¼Œå…¼å®¹ç°æœ‰æ•°æ®
                LOCAL_PREFIX: '0',            // æœ¬åœ°æ ¼å¼å‰ç¼€
                INTL_PREFIX: '60',            // å›½é™…æ ¼å¼å‰ç¼€
                MIN_LENGTH: 10,               // æœ€å°é•¿åº¦
                MAX_LENGTH: 12                // æœ€å¤§é•¿åº¦
            },
            
            // ===== ç³»ç»Ÿè®¾ç½® =====
            SYSTEM_SETTINGS: {
                DEFAULT_LANGUAGE: 'zh-CN',
                CURRENCY: 'RM',
                TIMEZONE: 'Asia/Kuala_Lumpur',
                DATE_FORMAT: 'DD/MM/YYYY',
                TIME_FORMAT: '24h'
            }
        };

        // ===== é…ç½®éªŒè¯å‡½æ•° =====
        window.AppConfig.validate = function() {
            const required = ['SUPABASE_URL', 'SUPABASE_ANON_KEY'];
            const missing = required.filter(key => !this[key] || this[key].includes('your-'));
            
            if (missing.length === 0) {
                console.log('âœ… èåˆé…ç½®éªŒè¯é€šè¿‡ - æ‰€æœ‰PR#1-#8åŠŸèƒ½å·²é›†æˆ');
                console.log('ğŸ“± æ‰‹æœºå·éªŒè¯: æ”¯æŒæœ¬åœ°æ ¼å¼ (0162327792) å’Œå›½é™…æ ¼å¼ (60162327792)');
                console.log('ğŸ”§ ä¼šå‘˜åŠŸèƒ½æ¨¡å—åŒ–å¼€å…³å·²å¯ç”¨');
                console.log('ğŸ’³ å•†å“ç®¡ç†ã€è®¢å•ç®¡ç†ã€æ•°æ®åˆ†æåŠŸèƒ½å·²é›†æˆ');
            } else {
                console.warn('âš ï¸ é…ç½®æ–‡ä»¶è­¦å‘Š: ä»¥ä¸‹é…ç½®é¡¹éœ€è¦æ›´æ–°:', missing);
            }
            
            return missing.length === 0;
        };

        // è‡ªåŠ¨éªŒè¯é…ç½®
        if (typeof window !== 'undefined') {
            window.AppConfig.validate();
        }
    </script>
    
    <!-- React å’Œç›¸å…³åº“ - ä½¿ç”¨å¯é çš„CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <style>
        /* å…¨å±€æ ·å¼ */
        * { box-sizing: border-box; }
        body { 
            font-family: system-ui, -apple-system, 'Segoe UI', sans-serif; 
            line-height: 1.6; 
            margin: 0; 
            padding: 0; 
            background-color: #f8fafc;
        }
        
        /* åŠ è½½åŠ¨ç”» */
        @keyframes spin { to { transform: rotate(360deg); } }
        .animate-spin { animation: spin 1s linear infinite; }
        
        /* æ¸å˜èƒŒæ™¯ */
        .gradient-bg { background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%); }
        
        /* ç»Ÿä¸€æŒ‰é’®æ ·å¼ */
        .btn { 
            padding: 0.75rem 1.5rem; 
            border: none; 
            border-radius: 0.5rem; 
            font-weight: 600; 
            cursor: pointer; 
            transition: all 0.2s; 
            display: inline-flex; 
            align-items: center; 
            gap: 0.5rem;
            text-decoration: none;
        }
        .btn:hover { transform: translateY(-1px); }
        .btn-primary { background: #dc2626; color: white; }
        .btn-primary:hover { background: #b91c1c; }
        .btn-secondary { background: #6b7280; color: white; }
        .btn-secondary:hover { background: #4b5563; }
        .btn-success { background: #16a34a; color: white; }
        .btn-success:hover { background: #15803d; }
        
        /* å¡ç‰‡æ ·å¼ */
        .card { 
            background: white; 
            border-radius: 0.75rem; 
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); 
            padding: 2rem; 
        }
        .card:hover { box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); }
        
        /* å“åº”å¼ç½‘æ ¼ */
        .grid { display: grid; gap: 2rem; }
        .grid-cols-1 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
        .grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
        @media (max-width: 768px) {
            .md\\:grid-cols-2 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
        }
        
        /* å®¹å™¨å’Œå¸ƒå±€ */
        .container { max-width: 1200px; margin: 0 auto; padding: 0 1rem; }
        .text-center { text-align: center; }
        .space-y-3 > * + * { margin-top: 0.75rem; }
        .space-y-4 > * + * { margin-top: 1rem; }
        
        /* æ–‡æœ¬æ ·å¼ */
        .text-4xl { font-size: 2.25rem; font-weight: bold; }
        .text-2xl { font-size: 1.5rem; font-weight: bold; }
        .text-xl { font-size: 1.25rem; }
        
        /* é¢œè‰² */
        .text-gray-900 { color: #111827; }
        .text-gray-600 { color: #4b5563; }
        .text-red-600 { color: #dc2626; }
        .text-blue-600 { color: #2563eb; }
        .text-white { color: white; }
        
        /* é—´è· */
        .mb-4 { margin-bottom: 1rem; }
        .mb-6 { margin-bottom: 1.5rem; }
        .mb-8 { margin-bottom: 2rem; }
        .mt-6 { margin-top: 1.5rem; }
        .py-8 { padding-top: 2rem; padding-bottom: 2rem; }
        
        /* åŠ è½½æŒ‡ç¤ºå™¨ */
        .loading {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 9999;
            background: rgba(255, 255, 255, 0.9);
            padding: 2rem;
            border-radius: 0.75rem;
            text-align: center;
        }
    </style>
</head>
<body>
    <div id="root">
        <!-- åŠ è½½ä¸­æ˜¾ç¤º -->
        <div class="loading" id="loadingIndicator">
            <div class="animate-spin" style="width: 40px; height: 40px; border: 4px solid #f3f4f6; border-top: 4px solid #dc2626; border-radius: 50%; margin: 0 auto 16px;"></div>
            <div>æ­£åœ¨åŠ è½½é”‹å‘³æ´¾ç¾é£Ÿå›¢è´­ç³»ç»Ÿ...</div>
        </div>
        
        <!-- å¦‚æœJavaScriptè¢«ç¦ç”¨æˆ–å¤±è´¥æ—¶æ˜¾ç¤ºçš„å¤‡ç”¨å†…å®¹ -->
        <noscript>
            <div class="container py-8">
                <div class="text-center">
                    <h1 class="text-4xl mb-4">ğŸ½ï¸ é”‹å‘³æ´¾ç¾é£Ÿå›¢è´­</h1>
                    <p class="text-xl text-gray-600 mb-8">è¯·å¯ç”¨JavaScriptä»¥ä½¿ç”¨å®Œæ•´åŠŸèƒ½ï¼Œæˆ–ç›´æ¥è”ç³»æˆ‘ä»¬è®¢è´­</p>
                    <div class="card" style="max-width: 600px; margin: 0 auto;">
                        <h2 class="text-2xl text-red-600 mb-4">ğŸ“ è”ç³»æˆ‘ä»¬</h2>
                        <div class="space-y-3">
                            <div><strong>WhatsApp:</strong> 0162327792</div>
                            <div><strong>è‡ªå–åœ°å€:</strong><br>
                                667, Jalan 24, Taman Perindustrian Ehsan Jaya,<br>
                                Kepong, 52100, Kuala Lumpur.
                            </div>
                        </div>
                        <div class="mt-6">
                            <a href="https://wa.me/60162327792?text=æ‚¨å¥½ï¼Œæˆ‘æƒ³è®¢è´­é”‹å‘³æ´¾ç¾é£Ÿ" class="btn btn-success">
                                <i class="fab fa-whatsapp"></i> WhatsApp è®¢è´­
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </noscript>
    </div>

    <script>
        // ç®€å•çš„åº”ç”¨åˆå§‹åŒ–è„šæœ¬
        window.addEventListener('load', function() {
            // æ£€æŸ¥å¿…éœ€çš„åº“æ˜¯å¦åŠ è½½
            if (typeof React === 'undefined') {
                document.getElementById('loadingIndicator').innerHTML = 
                    '<div style="color: red;">React åº“åŠ è½½å¤±è´¥ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•</div>';
                return;
            }
            
            if (typeof ReactDOM === 'undefined') {
                document.getElementById('loadingIndicator').innerHTML = 
                    '<div style="color: red;">ReactDOM åº“åŠ è½½å¤±è´¥ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•</div>';
                return;
            }
            
            if (typeof supabase === 'undefined') {
                document.getElementById('loadingIndicator').innerHTML = 
                    '<div style="color: red;">Supabase åº“åŠ è½½å¤±è´¥ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•</div>';
                return;
            }

            // éšè—åŠ è½½æŒ‡ç¤ºå™¨
            const loading = document.getElementById('loadingIndicator');
            if (loading) {
                loading.style.display = 'none';
            }

            // åˆå§‹åŒ–Reactåº”ç”¨
            initializeApp();
        });

        // ===== èåˆ PR#1-#8 çš„åº”ç”¨åˆå§‹åŒ–å‡½æ•° =====
        function initializeApp() {
            // ä½¿ç”¨å†…åµŒé…ç½® - ç¡®ä¿æ— éœ€å¤–éƒ¨ config.js æ–‡ä»¶
            const config = window.AppConfig;
            const SUPABASE_URL = config.SUPABASE_URL;
            const SUPABASE_ANON_KEY = config.SUPABASE_ANON_KEY;
            
            // åˆ›å»ºSupabaseå®¢æˆ·ç«¯
            const supabaseClient = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
            
            // ===== ä¼šå‘˜æœåŠ¡ - PR#8 å‡çº§åŠŸèƒ½ =====
            const MemberService = {
                // æ£€æŸ¥ä¼šå‘˜æ˜¯å¦å­˜åœ¨ (PR#8: æ‰‹æœºå·å”¯ä¸€è¯†åˆ«)
                async checkMemberExists(phone) {
                    if (!config.MEMBER_FEATURES.ENABLED) return null;
                    
                    const { data, error } = await supabaseClient
                        .from('members')
                        .select('*')
                        .eq('phone', phone)
                        .single();
                    
                    return error ? null : data;
                },
                
                // è‡ªåŠ¨åˆ›å»ºä¼šå‘˜ (PR#8: è‡ªåŠ¨åˆ›å»º)
                async createMember(memberData) {
                    if (!config.MEMBER_FEATURES.AUTO_CREATE_MEMBER) return null;
                    
                    const { data, error } = await supabaseClient
                        .from('members')
                        .insert([{
                            phone: memberData.phone,
                            name: memberData.name,
                            points: 0,
                            total_orders: 0,
                            total_amount: 0.00
                        }])
                        .select()
                        .single();
                        
                    return error ? null : data;
                },
                
                // è·å–æœªå®Œæˆè®¢å• (PR#8: è®¢å•åˆå¹¶åŠŸèƒ½)
                async getIncompleteOrders(phone) {
                    if (!config.MEMBER_FEATURES.AUTO_MERGE_ORDERS) return [];
                    
                    const { data, error } = await supabaseClient
                        .from('orders')
                        .select('*')
                        .eq('phone', phone)
                        .in('status', ['pending', 'confirmed'])
                        .order('created_at', { ascending: false });
                        
                    return error ? [] : (data || []);
                },
                
                // æ›´æ–°ä¼šå‘˜ç»Ÿè®¡ (PR#8: ä¼šå‘˜ç§¯åˆ†ç³»ç»Ÿ)
                async updateMemberStats(memberId, orderAmount) {
                    if (!config.MEMBER_FEATURES.POINTS_SYSTEM) return;
                    
                    const { error } = await supabaseClient
                        .from('members')
                        .update({
                            total_orders: supabaseClient.sql`total_orders + 1`,
                            total_amount: supabaseClient.sql`total_amount + ${orderAmount}`,
                            points: config.MEMBER_FEATURES.POINTS_SYSTEM ? 
                                supabaseClient.sql`points + ${Math.floor(orderAmount)}` : 
                                supabaseClient.sql`points`
                        })
                        .eq('id', memberId);
                }
            };
            
            // ===== æ‰‹æœºå·éªŒè¯å·¥å…· - PR#8 å‡çº§ =====
            const validateWhatsAppPhone = (phone) => {
                const validation = config.PHONE_VALIDATION;
                if (!phone) return { isValid: false, message: 'è¯·è¾“å…¥æ‰‹æœºå·ç ' };
                
                const cleanPhone = phone.replace(/\D/g, '');
                
                // æ”¯æŒæœ¬åœ°æ ¼å¼ (0162327792) å’Œå›½é™…æ ¼å¼ (60162327792)
                const isLocalFormat = cleanPhone.startsWith('0') && cleanPhone.length === 10;
                const isIntlFormat = cleanPhone.startsWith('60') && cleanPhone.length === 11;
                
                if (!isLocalFormat && !isIntlFormat) {
                    return { 
                        isValid: false, 
                        message: 'è¯·è¾“å…¥æœ‰æ•ˆçš„é©¬æ¥è¥¿äºšæ‰‹æœºå· (å¦‚: 0162327792 æˆ– 60162327792)' 
                    };
                }
                
                return { 
                    isValid: true, 
                    phone: cleanPhone,
                    displayFormat: isLocalFormat ? cleanPhone : '0' + cleanPhone.substring(2)
                };
            };
            
            // ===== è®¢å•å·ç”Ÿæˆä¼˜åŒ– - PR#2 å‡çº§åŠŸèƒ½ =====
            const generateOrderId = async () => {
                if (!config.ORDER_FEATURES.ORDER_ID_OPTIMIZATION) {
                    return 'FW' + Date.now();
                }
                
                const today = new Date();
                const dateStr = today.toISOString().slice(0, 10).replace(/-/g, '');
                
                // æŸ¥è¯¢å½“å¤©å·²æœ‰è®¢å•æ•°é‡
                const { data, error } = await supabaseClient
                    .from('orders')
                    .select('order_id')
                    .like('order_id', `FW${dateStr}%`)
                    .order('order_id', { ascending: false })
                    .limit(1);
                    
                let sequence = 1;
                if (data && data.length > 0) {
                    const lastOrderId = data[0].order_id;
                    const lastSequence = parseInt(lastOrderId.slice(-3));
                    sequence = lastSequence + 1;
                }
                
                return `FW${dateStr}${sequence.toString().padStart(3, '0')}`;
            };
            
            // React hooks
            const { useState, useEffect } = React;

            // ä¸»åº”ç”¨ç»„ä»¶
            function App() {
                const [currentView, setCurrentView] = useState('customer');
                const [products, setProducts] = useState([]);
                const [isLoading, setIsLoading] = useState(true);

                // è·å–äº§å“åˆ—è¡¨
                useEffect(() => {
                    async function fetchProducts() {
                        try {
                            const { data, error } = await supabaseClient
                                .from('products')
                                .select('*')
                                .eq('is_published', true)
                                .order('id');
                            
                            if (error) {
                                console.error('è·å–äº§å“å¤±è´¥:', error);
                                setProducts([]);
                            } else {
                                setProducts(data || []);
                            }
                        } catch (error) {
                            console.error('è·å–äº§å“å¼‚å¸¸:', error);
                            setProducts([]);
                        } finally {
                            setIsLoading(false);
                        }
                    }
                    
                    fetchProducts();
                }, []);

                if (currentView === 'login') {
                    return React.createElement(LoginPage, {
                        onBack: () => setCurrentView('customer'),
                        onLogin: () => setCurrentView('admin')
                    });
                }

                if (currentView === 'admin') {
                    return React.createElement(AdminPanel, {
                        onLogout: () => setCurrentView('customer')
                    });
                }

                return React.createElement(CustomerPage, {
                    products: products,
                    isLoading: isLoading,
                    onAdminClick: () => setCurrentView('login')
                });
            }

            // ===== ç»¼åˆå®¢æˆ·é¡µé¢ç»„ä»¶ - èåˆ PR#1-8 æ‰€æœ‰åŠŸèƒ½ =====
            function CustomerPage({ products, isLoading, onAdminClick }) {
                // ===== è´­ç‰©è½¦çŠ¶æ€ç®¡ç† - PR#2,#5 å‡çº§åŠŸèƒ½ =====
                const [cart, setCart] = useState([]);
                const [showCart, setShowCart] = useState(false);
                const [showCheckout, setShowCheckout] = useState(false);
                const [selectedCategory, setSelectedCategory] = useState('all');
                const [searchQuery, setSearchQuery] = useState('');
                const [toast, setToast] = useState(null);
                
                // ===== Toast é€šçŸ¥ç³»ç»Ÿ - PR#5,#6 å‡çº§ =====
                const showToast = (message, type = 'success') => {
                    setToast({ message, type });
                    setTimeout(() => setToast(null), 3000);
                };
                
                // ===== è´­ç‰©è½¦æ“ä½œ - PR#5 åº“å­˜éªŒè¯å‡çº§ =====
                const addToCart = async (product) => {
                    // åº“å­˜æ£€æŸ¥ (PR#5: ä½åº“å­˜æé†’)
                    if (config.PRODUCT_FEATURES.LOW_STOCK_ALERT && !product.is_unlimited) {
                        if (product.stock_quantity <= 0) {
                            showToast('å•†å“åº“å­˜ä¸è¶³', 'error');
                            return;
                        }
                    }
                    
                    const existingItem = cart.find(item => item.id === product.id);
                    if (existingItem) {
                        // æ£€æŸ¥æ•°é‡é™åˆ¶
                        if (!product.is_unlimited && existingItem.quantity >= product.stock_quantity) {
                            showToast(`åº“å­˜ä»…å‰© ${product.stock_quantity} ä»¶`, 'error');
                            return;
                        }
                        setCart(cart.map(item => 
                            item.id === product.id 
                                ? { ...item, quantity: item.quantity + 1 }
                                : item
                        ));
                    } else {
                        setCart([...cart, { ...product, quantity: 1 }]);
                    }
                    showToast(`${product.name} å·²æ·»åŠ åˆ°è´­ç‰©è½¦`);
                };
                
                const updateCartQuantity = (productId, newQuantity) => {
                    if (newQuantity <= 0) {
                        setCart(cart.filter(item => item.id !== productId));
                        return;
                    }
                    
                    setCart(cart.map(item => 
                        item.id === productId 
                            ? { ...item, quantity: newQuantity }
                            : item
                    ));
                };
                
                const removeFromCart = (productId) => {
                    setCart(cart.filter(item => item.id !== productId));
                    showToast('å•†å“å·²ä»è´­ç‰©è½¦ç§»é™¤');
                };
                
                const cartTotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
                const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
                
                // ===== å•†å“è¿‡æ»¤å’Œæœç´¢ - PR#1 åˆ†ç±»æœç´¢åŠŸèƒ½ =====
                const categories = ['all', ...new Set(products.filter(p => p.category).map(p => p.category))];
                
                const filteredProducts = products.filter(product => {
                    const matchesCategory = selectedCategory === 'all' || product.category === selectedCategory;
                    const matchesSearch = !searchQuery || 
                        product.name.toLowerCase().includes(searchQuery.toLowerCase()) ||
                        (product.category && product.category.toLowerCase().includes(searchQuery.toLowerCase()));
                    return matchesCategory && matchesSearch;
                });
                
                return React.createElement('div', { className: 'container py-4' },
                    // ===== é¡¶éƒ¨å¯¼èˆªå’Œæ ‡é¢˜ =====
                    React.createElement('div', { className: 'text-center mb-6' },
                        React.createElement('h1', { className: 'text-4xl font-bold text-gray-900 mb-2' }, 'ğŸ½ï¸ é”‹å‘³æ´¾ç¾é£Ÿå›¢è´­'),
                        React.createElement('p', { className: 'text-xl text-gray-600 mb-4' }, 'æ–°é²œç¾å‘³ï¼Œå›¢è´­ä¼˜æƒ '),
                        
                        // å¯¼èˆªæŒ‰é’®
                        React.createElement('div', { className: 'flex flex-wrap justify-center gap-2 mb-4' },
                            React.createElement('button', {
                                className: 'btn btn-secondary',
                                onClick: onAdminClick
                            }, 'ç®¡ç†å‘˜ç™»å½•'),
                            React.createElement('button', {
                                className: `btn ${showCart ? 'btn-primary' : 'btn-success'} relative`,
                                onClick: () => setShowCart(!showCart)
                            }, 
                                React.createElement('i', { className: 'fas fa-shopping-cart' }),
                                ` è´­ç‰©è½¦ (${totalItems})`,
                                totalItems > 0 && React.createElement('span', {
                                    className: 'absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center'
                                }, totalItems)
                            )
                        )
                    ),
                    
                    // ===== Toast é€šçŸ¥ =====
                    toast && React.createElement('div', {
                        className: `fixed top-4 right-4 z-50 p-4 rounded-lg text-white ${
                            toast.type === 'success' ? 'bg-green-500' : 
                            toast.type === 'error' ? 'bg-red-500' : 'bg-blue-500'
                        }`
                    }, toast.message),
                    
                    // ===== åˆ†ç±»å¯¼èˆªæ  - PR#1 å¸é¡¶åŠŸèƒ½ =====
                    config.PRODUCT_FEATURES.CATEGORY_SEARCH && React.createElement('div', {
                        className: 'sticky top-0 bg-white shadow-md z-40 py-4 mb-6',
                        style: { marginLeft: '-1rem', marginRight: '-1rem', paddingLeft: '1rem', paddingRight: '1rem' }
                    },
                        React.createElement('div', { className: 'container' },
                            React.createElement('div', { className: 'flex flex-wrap gap-2 mb-4' },
                                categories.map(category => 
                                    React.createElement('button', {
                                        key: category,
                                        className: `px-4 py-2 rounded-full text-sm font-medium transition-colors ${
                                            selectedCategory === category 
                                                ? 'bg-red-600 text-white' 
                                                : 'bg-gray-200 text-gray-700 hover:bg-gray-300'
                                        }`,
                                        onClick: () => setSelectedCategory(category)
                                    }, category === 'all' ? 'å…¨éƒ¨' : category)
                                )
                            ),
                            // æœç´¢æ 
                            React.createElement('div', { className: 'relative' },
                                React.createElement('input', {
                                    type: 'text',
                                    placeholder: 'æœç´¢å•†å“...',
                                    value: searchQuery,
                                    onChange: (e) => setSearchQuery(e.target.value),
                                    className: 'w-full px-4 py-2 pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500'
                                }),
                                React.createElement('i', {
                                    className: 'fas fa-search absolute left-3 top-3 text-gray-400'
                                })
                            )
                        )
                    ),
                    
                    // ===== ä¸»è¦å†…å®¹åŒºåŸŸ =====
                    React.createElement('div', { className: 'grid md:grid-cols-4 gap-6' },
                        // ===== å•†å“å±•ç¤ºåŒºåŸŸ =====
                        React.createElement('div', { className: 'md:col-span-3' },
                            isLoading ? 
                                React.createElement('div', { className: 'text-center py-8' },
                                    React.createElement('div', { className: 'animate-spin mx-auto mb-4', style: { 
                                        width: '40px', height: '40px', 
                                        border: '4px solid #f3f4f6', 
                                        borderTop: '4px solid #dc2626', 
                                        borderRadius: '50%' 
                                    }}),
                                    'æ­£åœ¨åŠ è½½å•†å“...'
                                ) :
                                filteredProducts.length === 0 ?
                                    React.createElement('div', { className: 'text-center py-8 text-gray-500' },
                                        'æš‚æ— å•†å“'
                                    ) :
                                    React.createElement('div', { className: 'grid md:grid-cols-2 lg:grid-cols-3 gap-4' },
                                        filteredProducts.map(product => 
                                            React.createElement(ProductCard, {
                                                key: product.id,
                                                product: product,
                                                onAddToCart: addToCart,
                                                config: config
                                            })
                                        )
                                    )
                        ),
                        
                        // ===== è´­ç‰©è½¦ä¾§è¾¹æ  =====
                        showCart && React.createElement('div', { className: 'md:col-span-1' },
                            React.createElement(CartSidebar, {
                                cart: cart,
                                cartTotal: cartTotal,
                                totalItems: totalItems,
                                onUpdateQuantity: updateCartQuantity,
                                onRemoveItem: removeFromCart,
                                onCheckout: () => setShowCheckout(true),
                                config: config
                            })
                        )
                    ),
                    
                    // ===== ç»“è´¦æ¨¡æ€æ¡† =====
                    showCheckout && React.createElement(CheckoutModal, {
                        cart: cart,
                        cartTotal: cartTotal,
                        onClose: () => setShowCheckout(false),
                        onOrderComplete: () => {
                            setCart([]);
                            setShowCart(false);
                            setShowCheckout(false);
                        },
                        showToast: showToast,
                        supabaseClient: supabaseClient,
                        config: config,
                        MemberService: MemberService,
                        validateWhatsAppPhone: validateWhatsAppPhone,
                        generateOrderId: generateOrderId
                    }),
                    
                    // ===== åº•éƒ¨è”ç³»ä¿¡æ¯ =====
                    React.createElement('div', { className: 'mt-12 grid md:grid-cols-2 gap-6' },
                        React.createElement('div', { className: 'bg-white rounded-lg shadow-md p-6' },
                            React.createElement('h2', { className: 'text-2xl font-bold text-red-600 mb-4' }, 'ğŸ“ è”ç³»æˆ‘ä»¬'),
                            React.createElement('div', { className: 'space-y-3 text-gray-700' },
                                React.createElement('div', null,
                                    React.createElement('strong', null, 'WhatsApp: '),
                                    '0162327792'
                                ),
                                React.createElement('div', null,
                                    React.createElement('strong', null, 'è‡ªå–åœ°å€: '),
                                    React.createElement('br'),
                                    config.SELF_PICKUP_ADDRESS
                                )
                            ),
                            React.createElement('div', { className: 'mt-6' },
                                React.createElement('a', {
                                    href: `https://wa.me/${config.WHATSAPP_NUMBER}?text=æ‚¨å¥½ï¼Œæˆ‘æƒ³è®¢è´­é”‹å‘³æ´¾ç¾é£Ÿ`,
                                    className: 'btn btn-success',
                                    target: '_blank'
                                }, 
                                    React.createElement('i', { className: 'fab fa-whatsapp' }),
                                    ' WhatsApp è®¢è´­'
                                )
                            )
                        ),
                        
                        React.createElement('div', { className: 'bg-white rounded-lg shadow-md p-6' },
                            React.createElement('h2', { className: 'text-2xl font-bold text-blue-600 mb-4' }, 'ğŸ›ï¸ ç³»ç»ŸçŠ¶æ€'),
                            React.createElement('div', { className: 'space-y-3 text-gray-700' },
                                React.createElement('div', null, 'âœ… ç³»ç»Ÿè¿è¡Œæ­£å¸¸'),
                                React.createElement('div', null, `ğŸ“¦ å½“å‰å•†å“: ${products.length} ç§`),
                                React.createElement('div', null, 'ğŸš€ åŠŸèƒ½å®Œæ•´å¯ç”¨'),
                                React.createElement('div', null, 'ğŸ“± æ”¯æŒç§»åŠ¨è®¾å¤‡'),
                                config.MEMBER_FEATURES.ENABLED && React.createElement('div', null, 'ğŸ‘¥ ä¼šå‘˜ç³»ç»Ÿå·²å¯ç”¨'),
                                config.ORDER_FEATURES.ORDER_MERGING && React.createElement('div', null, 'ğŸ”„ æ™ºèƒ½è®¢å•åˆå¹¶')
                            )
                        )
                    )
                );
            }
            
            // ===== å•†å“å¡ç‰‡ç»„ä»¶ - PR#2,#3 å›¾ç‰‡ä¸Šä¼ å’Œå­—æ®µå…¼å®¹ =====
            function ProductCard({ product, onAddToCart, config }) {
                const imageUrl = config.PRODUCT_FEATURES.FIELD_COMPATIBILITY ? 
                    (product.image_url || `${config.PRODUCT_IMAGE_BASE_URL}${product.image || 'default.jpg'}`) :
                    product.image_url;
                    
                const stockDisplay = product.is_unlimited ? 'é¢„è´­å•†å“' : 
                    config.PRODUCT_FEATURES.LOW_STOCK_ALERT && product.stock_quantity <= 5 ? 
                        `åº“å­˜ç´§å¼  (${product.stock_quantity})` : 
                        `åº“å­˜: ${product.stock_quantity}`;
                        
                return React.createElement('div', { 
                    className: 'bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300'
                },
                    // å•†å“å›¾ç‰‡
                    config.PRODUCT_FEATURES.IMAGE_UPLOAD && imageUrl && React.createElement('div', {
                        className: 'w-full h-48 bg-gray-200 flex items-center justify-center overflow-hidden'
                    },
                        React.createElement('img', {
                            src: imageUrl,
                            alt: product.name,
                            className: 'w-full h-full object-cover',
                            onError: (e) => {
                                e.target.style.display = 'none';
                                e.target.nextSibling.style.display = 'flex';
                            }
                        }),
                        React.createElement('div', {
                            className: 'w-full h-full bg-gray-200 flex items-center justify-center text-6xl',
                            style: { display: 'none' }
                        }, product.emoji || 'ğŸ½ï¸')
                    ),
                    
                    // å•†å“ä¿¡æ¯
                    React.createElement('div', { className: 'p-4' },
                        React.createElement('h3', { 
                            className: 'text-lg font-bold text-gray-900 mb-2 line-clamp-2'
                        }, `${product.emoji || 'ğŸ½ï¸'} ${product.name}`),
                        
                        React.createElement('div', { className: 'flex items-center justify-between mb-3' },
                            React.createElement('span', { 
                                className: 'text-2xl font-bold text-red-600'
                            }, `RM ${Number(product.price).toFixed(2)}`),
                            product.category && React.createElement('span', {
                                className: 'text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full'
                            }, product.category)
                        ),
                        
                        React.createElement('p', { 
                            className: `text-sm mb-3 ${
                                product.is_unlimited ? 'text-blue-600' : 
                                product.stock_quantity <= 5 ? 'text-red-600' : 'text-gray-600'
                            }`
                        }, stockDisplay),
                        
                        product.description && React.createElement('p', {
                            className: 'text-sm text-gray-600 mb-4 line-clamp-2'
                        }, product.description),
                        
                        React.createElement('button', {
                            className: `btn btn-primary w-full ${
                                !product.is_unlimited && product.stock_quantity <= 0 ? 'opacity-50 cursor-not-allowed' : ''
                            }`,
                            onClick: () => onAddToCart(product),
                            disabled: !product.is_unlimited && product.stock_quantity <= 0
                        },
                            React.createElement('i', { className: 'fas fa-cart-plus' }),
                            ' åŠ å…¥è´­ç‰©è½¦'
                        )
                    )
                );
            }
            
            // ===== è´­ç‰©è½¦ä¾§è¾¹æ ç»„ä»¶ - PR#2,#5 å‡çº§åŠŸèƒ½ =====
            function CartSidebar({ cart, cartTotal, totalItems, onUpdateQuantity, onRemoveItem, onCheckout, config }) {
                return React.createElement('div', { 
                    className: 'bg-white rounded-lg shadow-md p-6 sticky top-24'
                },
                    React.createElement('h3', { 
                        className: 'text-xl font-bold text-gray-900 mb-4 flex items-center'
                    },
                        React.createElement('i', { className: 'fas fa-shopping-cart mr-2 text-blue-600' }),
                        `è´­ç‰©è½¦ (${totalItems})`
                    ),
                    
                    cart.length === 0 ? 
                        React.createElement('div', { className: 'text-center text-gray-500 py-8' },
                            React.createElement('i', { className: 'fas fa-shopping-cart text-4xl mb-4 text-gray-300' }),
                            React.createElement('p', null, 'è´­ç‰©è½¦æ˜¯ç©ºçš„'),
                            React.createElement('p', { className: 'text-sm' }, 'æ·»åŠ ä¸€äº›ç¾å‘³å•†å“å§ï¼')
                        ) :
                        React.createElement('div', null,
                            React.createElement('div', { className: 'space-y-4 mb-6 max-h-80 overflow-y-auto' },
                                cart.map(item => 
                                    React.createElement('div', { 
                                        key: item.id,
                                        className: 'flex items-center gap-3 p-3 bg-gray-50 rounded-lg'
                                    },
                                        React.createElement('div', { className: 'text-2xl' }, item.emoji || 'ğŸ½ï¸'),
                                        React.createElement('div', { className: 'flex-1 min-w-0' },
                                            React.createElement('h4', { className: 'text-sm font-medium text-gray-900 truncate' }, item.name),
                                            React.createElement('p', { className: 'text-sm text-gray-600' }, `RM ${Number(item.price).toFixed(2)}`),
                                            // åº“å­˜ä¿¡æ¯æ˜¾ç¤º
                                            config.PRODUCT_FEATURES.LOW_STOCK_ALERT && !item.is_unlimited && 
                                                React.createElement('p', { 
                                                    className: `text-xs ${item.stock_quantity <= 5 ? 'text-red-600' : 'text-gray-500'}`
                                                }, `åº“å­˜: ${item.stock_quantity}`)
                                        ),
                                        React.createElement('div', { className: 'flex items-center gap-2' },
                                            React.createElement('button', {
                                                className: 'w-6 h-6 rounded-full bg-gray-300 hover:bg-gray-400 flex items-center justify-center text-sm',
                                                onClick: () => onUpdateQuantity(item.id, item.quantity - 1)
                                            }, '-'),
                                            React.createElement('span', { className: 'text-sm font-medium w-6 text-center' }, item.quantity),
                                            React.createElement('button', {
                                                className: `w-6 h-6 rounded-full bg-blue-600 hover:bg-blue-700 text-white flex items-center justify-center text-sm ${
                                                    !item.is_unlimited && item.quantity >= item.stock_quantity ? 'opacity-50 cursor-not-allowed' : ''
                                                }`,
                                                onClick: () => onUpdateQuantity(item.id, item.quantity + 1),
                                                disabled: !item.is_unlimited && item.quantity >= item.stock_quantity
                                            }, '+')
                                        ),
                                        React.createElement('button', {
                                            className: 'text-red-600 hover:text-red-800 text-sm',
                                            onClick: () => onRemoveItem(item.id)
                                        }, React.createElement('i', { className: 'fas fa-trash' }))
                                    )
                                )
                            ),
                            
                            React.createElement('div', { className: 'border-t pt-4' },
                                React.createElement('div', { className: 'flex justify-between items-center mb-4' },
                                    React.createElement('span', { className: 'text-lg font-bold text-gray-900' }, 'æ€»è®¡:'),
                                    React.createElement('span', { className: 'text-2xl font-bold text-red-600' }, `RM ${cartTotal.toFixed(2)}`)
                                ),
                                React.createElement('button', {
                                    className: 'btn btn-success w-full',
                                    onClick: onCheckout
                                },
                                    React.createElement('i', { className: 'fas fa-credit-card' }),
                                    ' ç«‹å³ç»“è´¦'
                                )
                            )
                        )
                );
            }
            
            // ===== ç»“è´¦æ¨¡æ€æ¡†ç»„ä»¶ - PR#3,#7,#8 ç»¼åˆå‡çº§åŠŸèƒ½ =====
            function CheckoutModal({ cart, cartTotal, onClose, onOrderComplete, showToast, supabaseClient, config, MemberService, validateWhatsAppPhone, generateOrderId }) {
                const [formData, setFormData] = useState({
                    name: '',
                    phone: '',
                    delivery: 'self-pickup',
                    deliveryAddress: '',
                    remarks: '',
                    paymentMethod: 'Maybank QR'
                });
                const [paymentProof, setPaymentProof] = useState(null);
                const [isSubmitting, setIsSubmitting] = useState(false);
                const [member, setMember] = useState(null);
                const [showQR, setShowQR] = useState(false);
                
                // æ£€æŸ¥ä¼šå‘˜çŠ¶æ€
                useEffect(() => {
                    if (config.MEMBER_FEATURES.ENABLED && formData.phone) {
                        const checkMember = async () => {
                            const validation = validateWhatsAppPhone(formData.phone);
                            if (validation.isValid) {
                                const existingMember = await MemberService.checkMemberExists(validation.phone);
                                setMember(existingMember);
                            }
                        };
                        checkMember();
                    }
                }, [formData.phone]);
                
                const handleChange = (e) => {
                    const { name, value } = e.target;
                    setFormData(prev => ({ ...prev, [name]: value }));
                };
                
                // æ”¯ä»˜æ–¹å¼å˜æ›´æ˜¾ç¤ºäºŒç»´ç 
                useEffect(() => {
                    if (config.SCAN_PHOTO_FEATURES.PAYMENT_QR_DISPLAY && formData.paymentMethod) {
                        setShowQR(true);
                    }
                }, [formData.paymentMethod]);
                
                const handleSubmit = async (e) => {
                    e.preventDefault();
                    setIsSubmitting(true);
                    
                    try {
                        // æ‰‹æœºå·éªŒè¯
                        const phoneValidation = validateWhatsAppPhone(formData.phone);
                        if (!phoneValidation.isValid) {
                            showToast(phoneValidation.message, 'error');
                            return;
                        }
                        
                        // é…é€åœ°å€éªŒè¯ - PR#3 å‡çº§
                        if (formData.delivery === 'lalamove' && !formData.deliveryAddress.trim()) {
                            showToast('è¯·å¡«å†™é…é€åœ°å€', 'error');
                            return;
                        }
                        
                        // ä¼šå‘˜å¤„ç† - PR#8 è‡ªåŠ¨åˆ›å»ºä¼šå‘˜
                        let currentMember = member;
                        if (config.MEMBER_FEATURES.ENABLED && !currentMember && config.MEMBER_FEATURES.AUTO_CREATE_MEMBER) {
                            currentMember = await MemberService.createMember({
                                name: formData.name,
                                phone: phoneValidation.phone
                            });
                        }
                        
                        // è®¢å•åˆå¹¶æ£€æŸ¥ - PR#8 å‡çº§åŠŸèƒ½
                        let shouldMergeOrder = false;
                        let existingOrderId = null;
                        if (config.ORDER_FEATURES.ORDER_MERGING && config.MEMBER_FEATURES.AUTO_MERGE_ORDERS) {
                            const incompleteOrders = await MemberService.getIncompleteOrders(phoneValidation.phone);
                            if (incompleteOrders.length > 0) {
                                shouldMergeOrder = true;
                                existingOrderId = incompleteOrders[0].order_id;
                            }
                        }
                        
                        // ç”Ÿæˆè®¢å•ID - PR#2 ä¼˜åŒ–
                        const orderId = shouldMergeOrder ? existingOrderId : await generateOrderId();
                        
                        // å‡†å¤‡è®¢å•æ•°æ®
                        let finalRemarks = formData.remarks;
                        if (formData.delivery === 'lalamove' && formData.deliveryAddress.trim()) {
                            finalRemarks = formData.deliveryAddress.trim() + (finalRemarks ? '\n' + finalRemarks : '');
                        }
                        
                        const orderInsertData = {
                            order_id: orderId,
                            name: formData.name,
                            phone: phoneValidation.phone,
                            delivery_method: formData.delivery,
                            remarks: finalRemarks,
                            payment_method: formData.paymentMethod,
                            total_amount: cartTotal,
                            status: 'pending',
                            order_items: cart.map(item => ({
                                product: item.name,
                                quantity: item.quantity,
                                price: item.price,
                                emoji: item.emoji,
                                is_unlimited: item.is_unlimited
                            })),
                            created_at: new Date().toISOString(),
                            member_id: currentMember?.id || null
                        };
                        
                        // å¤„ç†æ”¯ä»˜å‡­è¯ä¸Šä¼  - PR#3,#7 å‡çº§
                        let paymentProofUrl = null;
                        if (paymentProof && config.ORDER_FEATURES.PAYMENT_PROOF_UPLOAD) {
                            const fileName = 'payment-proof-' + Date.now() + '.' + paymentProof.name.split('.').pop();
                            const { error: uploadError } = await supabaseClient.storage
                                .from('payment-proofs').upload(fileName, paymentProof);
                            if (uploadError) {
                                throw new Error('ä¸Šä¼ æ”¯ä»˜å‡­è¯å¤±è´¥: ' + uploadError.message);
                            }
                            
                            const { data: { publicUrl } } = supabaseClient.storage
                                .from('payment-proofs').getPublicUrl(fileName);
                            paymentProofUrl = publicUrl;
                        }
                        if (paymentProofUrl) {
                            orderInsertData.payment_proof_url = paymentProofUrl;
                        }
                        
                        let insertedOrder;
                        if (shouldMergeOrder) {
                            // åˆå¹¶è®¢å•ï¼šæ›´æ–°ç°æœ‰è®¢å•çš„å•†å“å’Œæ€»é‡‘é¢
                            const { data: existingOrder, error: fetchError } = await supabaseClient
                                .from('orders')
                                .select('*')
                                .eq('order_id', existingOrderId)
                                .single();
                                
                            if (fetchError) throw fetchError;
                            
                            // åˆå¹¶å•†å“é¡¹ç›®
                            const existingItems = existingOrder.order_items || [];
                            const newItems = orderInsertData.order_items;
                            const mergedItems = [...existingItems];
                            
                            // åˆå¹¶é€»è¾‘ï¼šç›¸åŒå•†å“ç´¯åŠ æ•°é‡ï¼Œæ–°å•†å“æ·»åŠ 
                            newItems.forEach(newItem => {
                                const existingItemIndex = mergedItems.findIndex(item => 
                                    item.product === newItem.product && item.price === newItem.price
                                );
                                
                                if (existingItemIndex >= 0) {
                                    mergedItems[existingItemIndex].quantity += newItem.quantity;
                                } else {
                                    mergedItems.push(newItem);
                                }
                            });
                            
                            // æ›´æ–°è®¢å•
                            const { data: updatedOrder, error: updateError } = await supabaseClient
                                .from('orders')
                                .update({
                                    order_items: mergedItems,
                                    total_amount: existingOrder.total_amount + cartTotal,
                                    updated_at: new Date().toISOString()
                                })
                                .eq('order_id', existingOrderId)
                                .select()
                                .single();
                                
                            if (updateError) throw updateError;
                            insertedOrder = updatedOrder;
                            showToast('è®¢å•å·²æˆåŠŸåˆå¹¶åˆ°ç°æœ‰è®¢å•ï¼', 'success');
                        } else {
                            // åˆ›å»ºæ–°è®¢å•
                            const { data: newOrder, error: insertError } = await supabaseClient
                                .from('orders')
                                .insert([orderInsertData])
                                .select()
                                .single();
                                
                            if (insertError) throw insertError;
                            insertedOrder = newOrder;
                            showToast('è®¢å•æäº¤æˆåŠŸï¼', 'success');
                        }
                        
                        // æ›´æ–°ä¼šå‘˜ç»Ÿè®¡ - PR#8 ç§¯åˆ†ç³»ç»Ÿ
                        if (config.MEMBER_FEATURES.ENABLED && currentMember && config.MEMBER_FEATURES.POINTS_SYSTEM) {
                            await MemberService.updateMemberStats(currentMember.id, cartTotal);
                        }
                        
                        // å‘é€WhatsAppé€šçŸ¥
                        const orderMessage = buildOrderMessage(insertedOrder);
                        const whatsappUrl = `https://wa.me/${config.WHATSAPP_NUMBER}?text=${encodeURIComponent(orderMessage)}`;
                        window.open(whatsappUrl, '_blank');
                        
                        onOrderComplete();
                        
                    } catch (error) {
                        console.error('æäº¤è®¢å•é”™è¯¯:', error);
                        showToast('æäº¤è®¢å•å¤±è´¥: ' + error.message, 'error');
                    } finally {
                        setIsSubmitting(false);
                    }
                };
                
                // æ„å»ºè®¢å•æ¶ˆæ¯ - å…¼å®¹æ–°æ—§æ ¼å¼
                const buildOrderMessage = (order) => {
                    let msg = `ğŸ½ï¸ *é”‹å‘³æ´¾ç¾é£Ÿå›¢è´­è®¢å•*\n\n`;
                    msg += `è®¢å•å·: ${order.order_id}\n`;
                    msg += `å®¢æˆ·å§“å: ${order.name}\n`;
                    msg += `å®¢æˆ·ç”µè¯: ${order.phone}\n`;
                    msg += `é…é€æ–¹å¼: ${order.delivery_method === 'self-pickup' ? 'è‡ªå–' : 'Lalamoveé€è´§'}\n\n`;
                    
                    msg += `*è®¢å•è¯¦æƒ…:*\n`;
                    order.order_items.forEach(item => {
                        msg += `${item.emoji || 'ğŸ½ï¸'} ${item.product} x${item.quantity} = RM${(item.price * item.quantity).toFixed(2)}\n`;
                    });
                    
                    msg += `\n*æ€»é‡‘é¢: RM${Number(order.total_amount).toFixed(2)}*\n`;
                    msg += `æ”¯ä»˜æ–¹å¼: ${order.payment_method}\n`;
                    
                    if (order.remarks) {
                        msg += `\n*å¤‡æ³¨:*\n${order.remarks}\n`;
                    }
                    
                    if (config.MEMBER_FEATURES.ENABLED && member) {
                        msg += `\nğŸ‘¥ *ä¼šå‘˜ä¿¡æ¯:*\n`;
                        msg += `ä¼šå‘˜ID: ${member.id}\n`;
                        if (config.MEMBER_FEATURES.POINTS_SYSTEM) {
                            msg += `å½“å‰ç§¯åˆ†: ${member.points}\n`;
                        }
                    }
                    
                    msg += `\nğŸ“… ä¸‹å•æ—¶é—´: ${new Date().toLocaleString('zh-CN')}`;
                    return msg;
                };
                
                return React.createElement('div', {
                    className: 'fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4',
                    onClick: (e) => {
                        if (e.target === e.currentTarget) onClose();
                    }
                },
                    React.createElement('div', {
                        className: 'bg-white rounded-lg max-w-2xl w-full max-h-96 overflow-y-auto'
                    },
                        React.createElement('div', { className: 'p-6' },
                            React.createElement('div', { className: 'flex justify-between items-center mb-6' },
                                React.createElement('h2', { className: 'text-2xl font-bold text-gray-900' }, 'ç¡®è®¤è®¢å•'),
                                React.createElement('button', {
                                    className: 'text-gray-400 hover:text-gray-600 text-2xl',
                                    onClick: onClose
                                }, 'Ã—')
                            ),
                            
                            React.createElement('form', { onSubmit: handleSubmit },
                                React.createElement('div', { className: 'grid md:grid-cols-2 gap-4 mb-4' },
                                    React.createElement('div', null,
                                        React.createElement('label', { className: 'block text-sm font-medium text-gray-700 mb-1' }, 'å§“å *'),
                                        React.createElement('input', {
                                            type: 'text',
                                            name: 'name',
                                            value: formData.name,
                                            onChange: handleChange,
                                            className: 'w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500',
                                            required: true
                                        })
                                    ),
                                    React.createElement('div', null,
                                        React.createElement('label', { className: 'block text-sm font-medium text-gray-700 mb-1' }, 
                                            'æ‰‹æœºå· * ',
                                            config.MEMBER_FEATURES.ENABLED && member && React.createElement('span', { 
                                                className: 'text-green-600 text-xs' 
                                            }, 'âœ“ å·²æ‰¾åˆ°ä¼šå‘˜')
                                        ),
                                        React.createElement('input', {
                                            type: 'tel',
                                            name: 'phone',
                                            value: formData.phone,
                                            onChange: handleChange,
                                            placeholder: '0162327792 æˆ– 60162327792',
                                            className: 'w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500',
                                            required: true
                                        })
                                    )
                                ),
                                
                                React.createElement('div', { className: 'grid md:grid-cols-2 gap-4 mb-4' },
                                    React.createElement('div', null,
                                        React.createElement('label', { className: 'block text-sm font-medium text-gray-700 mb-1' }, 'é…é€æ–¹å¼'),
                                        React.createElement('select', {
                                            name: 'delivery',
                                            value: formData.delivery,
                                            onChange: handleChange,
                                            className: 'w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500'
                                        },
                                            React.createElement('option', { value: 'self-pickup' }, 'è‡ªå–'),
                                            React.createElement('option', { value: 'lalamove' }, 'Lalamoveé€è´§')
                                        )
                                    ),
                                    React.createElement('div', null,
                                        React.createElement('label', { className: 'block text-sm font-medium text-gray-700 mb-1' }, 'æ”¯ä»˜æ–¹å¼'),
                                        React.createElement('select', {
                                            name: 'paymentMethod',
                                            value: formData.paymentMethod,
                                            onChange: handleChange,
                                            className: 'w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500'
                                        },
                                            React.createElement('option', { value: 'Maybank QR' }, 'Maybank QR'),
                                            React.createElement('option', { value: 'TNG eWallet' }, 'TNG eWallet')
                                        )
                                    )
                                ),
                                
                                // é…é€åœ°å€å­—æ®µ - PR#3 åŠ¨æ€æ˜¾ç¤º
                                formData.delivery === 'self-pickup' ? 
                                    React.createElement('div', { className: 'mb-4' },
                                        React.createElement('label', { className: 'block text-sm font-medium text-gray-700 mb-1' }, 'è‡ªå–åœ°å€'),
                                        React.createElement('div', {
                                            className: 'w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-700'
                                        }, config.SELF_PICKUP_ADDRESS),
                                        React.createElement('p', { className: 'text-xs text-gray-500 mt-1' }, 'è‡ªå–åœ°å€ä¸ºåªè¯»ï¼Œæ— éœ€å¡«å†™')
                                    ) :
                                    React.createElement('div', { className: 'mb-4' },
                                        React.createElement('label', { className: 'block text-sm font-medium text-gray-700 mb-1' }, 'é…é€åœ°å€ *'),
                                        React.createElement('textarea', {
                                            name: 'deliveryAddress',
                                            value: formData.deliveryAddress,
                                            onChange: handleChange,
                                            className: 'w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500',
                                            placeholder: 'è¯·è¾“å…¥è¯¦ç»†çš„é…é€åœ°å€',
                                            rows: 2,
                                            required: formData.delivery === 'lalamove'
                                        })
                                    ),
                                
                                React.createElement('div', { className: 'mb-4' },
                                    React.createElement('label', { className: 'block text-sm font-medium text-gray-700 mb-1' }, 'å¤‡æ³¨'),
                                    React.createElement('textarea', {
                                        name: 'remarks',
                                        value: formData.remarks,
                                        onChange: handleChange,
                                        className: 'w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500',
                                        placeholder: 'å…¶ä»–è¦æ±‚æˆ–å¤‡æ³¨...',
                                        rows: 2
                                    })
                                ),
                                
                                // æ”¯ä»˜äºŒç»´ç æ˜¾ç¤º - PR#2,#6 å‡çº§åŠŸèƒ½
                                showQR && config.SCAN_PHOTO_FEATURES.PAYMENT_QR_DISPLAY && React.createElement('div', { className: 'mb-4 p-4 bg-blue-50 rounded-lg' },
                                    React.createElement('h3', { className: 'text-lg font-medium text-blue-900 mb-2' }, 
                                        `${formData.paymentMethod} æ”¯ä»˜äºŒç»´ç `
                                    ),
                                    React.createElement('div', { className: 'text-center' },
                                        React.createElement('img', {
                                            src: formData.paymentMethod === 'Maybank QR' ? 
                                                `${config.PRODUCT_IMAGE_BASE_URL}IMG_4042.png` :
                                                `${config.PRODUCT_IMAGE_BASE_URL}IMG_4043.jpeg`,
                                            alt: `${formData.paymentMethod} QR Code`,
                                            className: 'mx-auto mb-2 max-w-48 h-auto rounded-lg',
                                            onError: (e) => {
                                                e.target.style.display = 'none';
                                                e.target.nextSibling.style.display = 'block';
                                            }
                                        }),
                                        React.createElement('div', {
                                            className: 'text-gray-500',
                                            style: { display: 'none' }
                                        }, 'äºŒç»´ç åŠ è½½å¤±è´¥'),
                                        React.createElement('p', { className: 'text-sm text-blue-700' },
                                            `è¯·æ‰«ç æ”¯ä»˜ RM${cartTotal.toFixed(2)}ï¼Œç„¶åä¸Šä¼ æ”¯ä»˜å‡­è¯`
                                        )
                                    )
                                ),
                                
                                // æ”¯ä»˜å‡­è¯ä¸Šä¼  - PR#3,#7 å‡çº§åŠŸèƒ½  
                                config.ORDER_FEATURES.PAYMENT_PROOF_UPLOAD && React.createElement('div', { className: 'mb-6' },
                                    React.createElement('label', { className: 'block text-sm font-medium text-gray-700 mb-1' }, 
                                        'æ”¯ä»˜å‡­è¯ ',
                                        React.createElement('span', { className: 'text-red-500' }, '*')
                                    ),
                                    React.createElement('input', {
                                        type: 'file',
                                        accept: 'image/*',
                                        onChange: (e) => setPaymentProof(e.target.files[0]),
                                        className: 'w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500',
                                        required: true
                                    }),
                                    React.createElement('p', { className: 'text-xs text-gray-500 mt-1' }, 
                                        'è¯·ä¸Šä¼ é“¶è¡Œè½¬è´¦æˆ–ç”µå­é’±åŒ…æ”¯ä»˜æˆªå›¾'
                                    )
                                ),
                                
                                // è®¢å•æ‘˜è¦
                                React.createElement('div', { className: 'mb-6 p-4 bg-gray-50 rounded-lg' },
                                    React.createElement('h3', { className: 'text-lg font-medium text-gray-900 mb-3' }, 'è®¢å•æ‘˜è¦'),
                                    React.createElement('div', { className: 'space-y-2' },
                                        cart.map(item => 
                                            React.createElement('div', { 
                                                key: item.id,
                                                className: 'flex justify-between items-center text-sm'
                                            },
                                                React.createElement('span', null, `${item.emoji || 'ğŸ½ï¸'} ${item.name} x${item.quantity}`),
                                                React.createElement('span', { className: 'font-medium' }, `RM${(item.price * item.quantity).toFixed(2)}`)
                                            )
                                        )
                                    ),
                                    React.createElement('div', { className: 'border-t pt-2 mt-3' },
                                        React.createElement('div', { className: 'flex justify-between items-center text-lg font-bold text-red-600' },
                                            React.createElement('span', null, 'æ€»è®¡:'),
                                            React.createElement('span', null, `RM${cartTotal.toFixed(2)}`)
                                        )
                                    )
                                ),
                                
                                React.createElement('div', { className: 'flex gap-3' },
                                    React.createElement('button', {
                                        type: 'button',
                                        onClick: onClose,
                                        className: 'flex-1 btn btn-secondary'
                                    }, 'å–æ¶ˆ'),
                                    React.createElement('button', {
                                        type: 'submit',
                                        disabled: isSubmitting,
                                        className: `flex-1 btn btn-success ${isSubmitting ? 'opacity-50 cursor-not-allowed' : ''}`
                                    },
                                        isSubmitting ? 
                                            React.createElement('span', null, 
                                                React.createElement('i', { className: 'fas fa-spinner fa-spin mr-2' }),
                                                'æäº¤ä¸­...'
                                            ) :
                                            React.createElement('span', null,
                                                React.createElement('i', { className: 'fas fa-check mr-2' }),
                                                'ç¡®è®¤è®¢å•'
                                            )
                                    )
                                )
                            )
                        )
                    )
                );
            }

            // ç™»å½•é¡µé¢ç»„ä»¶
            // ===== ç™»å½•é¡µé¢ç»„ä»¶ - èåˆ PR#7 å¯†ç å¯è§æ€§åˆ‡æ¢ =====
            function LoginPage({ onBack, onLogin }) {
                const [password, setPassword] = useState('');
                const [error, setError] = useState('');
                const [showPassword, setShowPassword] = useState(false); // PR#7 å¯†ç æ˜¾ç¤ºåˆ‡æ¢

                const handleSubmit = (e) => {
                    e.preventDefault();
                    if (password === config.ADMIN_PASSWORD) {
                        onLogin();
                    } else {
                        setError('å¯†ç é”™è¯¯');
                    }
                };

                return React.createElement('div', { className: 'container py-8' },
                    React.createElement('div', { className: 'card', style: { maxWidth: '400px', margin: '0 auto' } },
                        React.createElement('h1', { className: 'text-2xl mb-6 text-center' }, 'ğŸ” ç®¡ç†å‘˜ç™»å½•'),
                        React.createElement('form', { onSubmit: handleSubmit },
                            React.createElement('div', { className: 'mb-4' },
                                React.createElement('label', { className: 'block mb-2 font-medium text-gray-700' }, 'ç®¡ç†å‘˜å¯†ç :'),
                                // PR#7: å¯†ç è¾“å…¥æ¡†withå¯è§æ€§åˆ‡æ¢
                                React.createElement('div', { className: 'relative' },
                                    React.createElement('input', {
                                        type: showPassword ? 'text' : 'password',
                                        value: password,
                                        onChange: (e) => setPassword(e.target.value),
                                        className: 'w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500',
                                        placeholder: 'è¯·è¾“å…¥ç®¡ç†å‘˜å¯†ç ',
                                        required: true
                                    }),
                                    // PR#7: å¯†ç å¯è§æ€§åˆ‡æ¢æŒ‰é’®
                                    config.ADMIN_FEATURES.PASSWORD_TOGGLE && React.createElement('button', {
                                        type: 'button',
                                        className: 'absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 focus:outline-none',
                                        onClick: () => setShowPassword(!showPassword)
                                    },
                                        React.createElement('i', {
                                            className: `fas ${showPassword ? 'fa-eye-slash' : 'fa-eye'}`
                                        })
                                    )
                                )
                            ),
                            error && React.createElement('div', { 
                                className: 'mb-4 p-3 bg-red-100 border border-red-300 text-red-700 rounded-lg'
                            }, 
                                React.createElement('i', { className: 'fas fa-exclamation-circle mr-2' }),
                                error
                            ),
                            React.createElement('div', { className: 'space-y-3' },
                                React.createElement('button', {
                                    type: 'submit',
                                    className: 'btn btn-primary w-full'
                                }, 
                                    React.createElement('i', { className: 'fas fa-sign-in-alt mr-2' }),
                                    'ç™»å½•ç®¡ç†åå°'
                                ),
                                React.createElement('button', {
                                    type: 'button',
                                    onClick: onBack,
                                    className: 'btn btn-secondary w-full'
                                }, 
                                    React.createElement('i', { className: 'fas fa-arrow-left mr-2' }),
                                    'è¿”å›é¦–é¡µ'
                                )
                            )
                        )
                    )
                );
            }

            // ç®¡ç†é¢æ¿ç»„ä»¶
            // ===== ç»¼åˆç®¡ç†åå°ç»„ä»¶ - èåˆ PR#1,#4-8 æ‰€æœ‰ç®¡ç†åŠŸèƒ½ =====
            function AdminPanel({ onLogout }) {
                const [currentView, setCurrentView] = useState('dashboard');
                const [orders, setOrders] = useState([]);
                const [products, setProducts] = useState([]);
                const [members, setMembers] = useState([]);
                const [isLoading, setIsLoading] = useState(true);
                const [stats, setStats] = useState({});
                const [toast, setToast] = useState(null);
                const [sidebarOpen, setSidebarOpen] = useState(false); // PR#1 ç§»åŠ¨ç«¯ä¾§è¾¹æ 

                // Toast é€šçŸ¥ç³»ç»Ÿ
                const showToast = (message, type = 'success') => {
                    setToast({ message, type });
                    setTimeout(() => setToast(null), 3000);
                };

                // è·å–ç»Ÿè®¡æ•°æ® - PR#1,#8 æ•°æ®åˆ†æåŠŸèƒ½
                useEffect(() => {
                    const fetchData = async () => {
                        setIsLoading(true);
                        try {
                            // è·å–è®¢å•æ•°æ®
                            const { data: ordersData } = await supabaseClient
                                .from('orders')
                                .select('*')
                                .order('created_at', { ascending: false });
                            setOrders(ordersData || []);

                            // è·å–å•†å“æ•°æ®
                            const { data: productsData } = await supabaseClient
                                .from('products')
                                .select('*')
                                .order('created_at', { ascending: false });
                            setProducts(productsData || []);

                            // è·å–ä¼šå‘˜æ•°æ® (å¦‚æœå¯ç”¨)
                            if (config.MEMBER_FEATURES.ENABLED) {
                                const { data: membersData } = await supabaseClient
                                    .from('members')
                                    .select('*')
                                    .order('created_at', { ascending: false });
                                setMembers(membersData || []);
                            }

                            // è®¡ç®—é¢„å”®ç»Ÿè®¡ - PR#1 é¢„å”®æˆå›¢ç»Ÿè®¡
                            const presaleStats = calculatePresaleStats(ordersData || [], productsData || []);
                            setStats(presaleStats);

                        } catch (error) {
                            console.error('è·å–æ•°æ®å¤±è´¥:', error);
                            showToast('è·å–æ•°æ®å¤±è´¥', 'error');
                        } finally {
                            setIsLoading(false);
                        }
                    };

                    fetchData();
                }, []);

                // PR#1: è®¡ç®—é¢„å”®æˆå›¢ç»Ÿè®¡
                const calculatePresaleStats = (orders, products) => {
                    // ç­›é€‰é¢„å”®å•†å“å’Œæ’é™¤è¿è´¹ä¸“ç”¨
                    const presaleProducts = products.filter(p => 
                        p.is_unlimited && p.name.indexOf('è¿è´¹ä¸“ç”¨') === -1
                    );
                    
                    let totalBoxesSold = 0;
                    orders.forEach(order => {
                        if (order.order_items && Array.isArray(order.order_items)) {
                            order.order_items.forEach(item => {
                                const product = presaleProducts.find(p => p.name === item.product);
                                if (product) {
                                    totalBoxesSold += item.quantity;
                                }
                            });
                        }
                    });

                    const boxesPerGroup = 200; // æ¯200ç›’æˆå›¢
                    const completedGroups = Math.floor(totalBoxesSold / boxesPerGroup);
                    const remainingForNextGroup = boxesPerGroup - (totalBoxesSold % boxesPerGroup);

                    return {
                        totalBoxesSold,
                        completedGroups,
                        remainingForNextGroup: remainingForNextGroup === boxesPerGroup ? 0 : remainingForNextGroup,
                        totalOrders: orders.length,
                        totalProducts: products.length,
                        totalMembers: members.length
                    };
                };

                // ä¾§è¾¹æ èœå•é¡¹ - PR#1,#8 æ‰€æœ‰ç®¡ç†åŠŸèƒ½
                const menuItems = [
                    { id: 'dashboard', icon: 'fas fa-tachometer-alt', label: 'ä»ªè¡¨ç›˜', enabled: true },
                    { id: 'products', icon: 'fas fa-pizza-slice', label: 'å•†å“ç®¡ç†', enabled: config.PRODUCT_FEATURES.IMAGE_UPLOAD },
                    { id: 'inventory', icon: 'fas fa-boxes', label: 'åº“å­˜ç®¡ç†', enabled: config.PRODUCT_FEATURES.LOW_STOCK_ALERT },
                    { id: 'orders', icon: 'fas fa-clipboard-list', label: 'è®¢å•ç®¡ç†', enabled: config.ORDER_FEATURES.ORDER_MERGING },
                    { id: 'members', icon: 'fas fa-users', label: 'ä¼šå‘˜ç®¡ç†', enabled: config.MEMBER_FEATURES.ENABLED },
                    { id: 'analytics', icon: 'fas fa-chart-line', label: 'æ•°æ®åˆ†æ', enabled: config.ADMIN_FEATURES.DASHBOARD_ANALYTICS },
                    { id: 'settings', icon: 'fas fa-cog', label: 'ç³»ç»Ÿè®¾ç½®', enabled: true }
                ];

                const enabledMenuItems = menuItems.filter(item => item.enabled);

                return React.createElement('div', { className: 'min-h-screen bg-gray-50' },
                    // ===== ç§»åŠ¨ç«¯å¯¼èˆªæ  - PR#1 ç§»åŠ¨ç«¯å“åº”å¼ =====
                    config.ADMIN_FEATURES.MOBILE_RESPONSIVE && React.createElement('div', { className: 'md:hidden bg-white shadow-sm border-b border-gray-200' },
                        React.createElement('div', { className: 'flex items-center justify-between p-4' },
                            React.createElement('h1', { className: 'text-xl font-bold text-gray-900' }, 'é”‹å‘³æ´¾ç®¡ç†åå°'),
                            React.createElement('button', {
                                className: 'p-2 rounded-md text-gray-500 hover:text-gray-900 hover:bg-gray-100 focus:outline-none',
                                onClick: () => setSidebarOpen(!sidebarOpen)
                            }, React.createElement('i', { className: 'fas fa-bars text-xl' }))
                        )
                    ),

                    React.createElement('div', { className: 'flex' },
                        // ===== ä¾§è¾¹æ  - PR#1 ç§»åŠ¨ç«¯å¯æ”¶èµ· =====
                        React.createElement('div', { 
                            className: `${config.ADMIN_FEATURES.MOBILE_RESPONSIVE ? 
                                `md:flex ${sidebarOpen ? 'flex' : 'hidden'}` : 'flex'} 
                                fixed md:static inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out`
                        },
                            React.createElement('div', { className: 'flex flex-col w-full' },
                                // ä¾§è¾¹æ æ ‡é¢˜
                                React.createElement('div', { className: 'flex items-center justify-between h-16 px-6 border-b border-gray-200' },
                                    React.createElement('h2', { className: 'text-lg font-bold text-gray-900' }, 'ğŸ½ï¸ ç®¡ç†åå°'),
                                    config.ADMIN_FEATURES.MOBILE_RESPONSIVE && React.createElement('button', {
                                        className: 'md:hidden p-1 rounded-md text-gray-400 hover:text-gray-600',
                                        onClick: () => setSidebarOpen(false)
                                    }, React.createElement('i', { className: 'fas fa-times' }))
                                ),
                                
                                // èœå•é¡¹
                                React.createElement('nav', { className: 'flex-1 px-4 py-6 space-y-2' },
                                    enabledMenuItems.map(item => 
                                        React.createElement('button', {
                                            key: item.id,
                                            className: `w-full flex items-center px-4 py-3 text-left rounded-lg transition-colors ${
                                                currentView === item.id 
                                                    ? 'bg-red-100 text-red-700 font-medium' 
                                                    : 'text-gray-700 hover:bg-gray-100'
                                            }`,
                                            onClick: () => {
                                                setCurrentView(item.id);
                                                if (config.ADMIN_FEATURES.MOBILE_RESPONSIVE) setSidebarOpen(false);
                                            }
                                        },
                                            React.createElement('i', { className: `${item.icon} w-5 mr-3` }),
                                            item.label
                                        )
                                    )
                                ),
                                
                                // é€€å‡ºç™»å½•
                                React.createElement('div', { className: 'p-4 border-t border-gray-200' },
                                    React.createElement('button', {
                                        onClick: onLogout,
                                        className: 'w-full flex items-center px-4 py-3 text-left text-gray-700 rounded-lg hover:bg-red-50 hover:text-red-600 transition-colors'
                                    },
                                        React.createElement('i', { className: 'fas fa-sign-out-alt w-5 mr-3' }),
                                        'é€€å‡ºç™»å½•'
                                    )
                                )
                            )
                        ),

                        // ===== ä¸»è¦å†…å®¹åŒºåŸŸ =====
                        React.createElement('div', { className: 'flex-1 overflow-hidden' },
                            React.createElement('main', { className: 'h-full overflow-y-auto p-6' },
                                // Toast é€šçŸ¥
                                toast && React.createElement('div', {
                                    className: `fixed top-4 right-4 z-50 p-4 rounded-lg text-white ${
                                        toast.type === 'success' ? 'bg-green-500' : 
                                        toast.type === 'error' ? 'bg-red-500' : 'bg-blue-500'
                                    }`
                                }, toast.message),

                                // åŠ¨æ€å†…å®¹æ¸²æŸ“
                                React.createElement(AdminContentRenderer, {
                                    currentView,
                                    isLoading,
                                    stats,
                                    orders,
                                    products,
                                    members,
                                    showToast,
                                    supabaseClient,
                                    config
                                })
                            )
                        )
                    ),

                    // ===== ç§»åŠ¨ç«¯é®ç½©å±‚ - PR#1 =====
                    config.ADMIN_FEATURES.MOBILE_RESPONSIVE && sidebarOpen && React.createElement('div', {
                        className: 'fixed inset-0 z-40 bg-black bg-opacity-50 md:hidden',
                        onClick: () => setSidebarOpen(false)
                    })
                );
            }

            // ===== ç®¡ç†åå°å†…å®¹æ¸²æŸ“å™¨ - æ ¹æ®è§†å›¾æ˜¾ç¤ºä¸åŒå†…å®¹ =====
            function AdminContentRenderer({ currentView, isLoading, stats, orders, products, members, showToast, supabaseClient, config }) {
                if (isLoading) {
                    return React.createElement('div', { className: 'flex items-center justify-center h-64' },
                        React.createElement('div', { className: 'animate-spin rounded-full h-12 w-12 border-b-2 border-red-600' }),
                        React.createElement('span', { className: 'ml-4 text-gray-600' }, 'åŠ è½½ä¸­...')
                    );
                }

                switch (currentView) {
                    case 'dashboard':
                        return React.createElement(DashboardView, { stats, config });
                    case 'products':
                        return React.createElement(ProductsView, { products, showToast, supabaseClient, config });
                    case 'inventory':
                        return React.createElement(InventoryView, { products, showToast, supabaseClient, config });
                    case 'orders':
                        return React.createElement(OrdersView, { orders, showToast, supabaseClient, config });
                    case 'members':
                        return React.createElement(MembersView, { members, showToast, supabaseClient, config });
                    case 'analytics':
                        return React.createElement(AnalyticsView, { orders, products, members, stats, config });
                    case 'settings':
                        return React.createElement(SettingsView, { config, showToast, supabaseClient });
                    default:
                        return React.createElement('div', { className: 'text-center text-gray-500 py-8' }, 
                            'è¯·é€‰æ‹©ä¸€ä¸ªåŠŸèƒ½æ¨¡å—'
                        );
                }
            }

            // ===== ä»ªè¡¨ç›˜è§†å›¾ - PR#1,#8 ç»¼åˆæ•°æ®å±•ç¤º =====
            function DashboardView({ stats, config }) {
                return React.createElement('div', { className: 'space-y-6' },
                    React.createElement('div', { className: 'flex justify-between items-center' },
                        React.createElement('h1', { className: 'text-3xl font-bold text-gray-900' }, 'ğŸ“Š ç®¡ç†ä»ªè¡¨ç›˜'),
                        React.createElement('div', { className: 'text-sm text-gray-500' }, 
                            `æœ€åæ›´æ–°: ${new Date().toLocaleString('zh-CN')}`
                        )
                    ),

                    // PR#1: é¢„å”®æˆå›¢ç»Ÿè®¡
                    config.ADMIN_FEATURES.DASHBOARD_ANALYTICS && React.createElement('div', { 
                        className: 'bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg p-6'
                    },
                        React.createElement('h2', { className: 'text-xl font-bold mb-4' }, 'ğŸ¯ é¢„å”®æˆå›¢ç»Ÿè®¡'),
                        React.createElement('div', { className: 'grid md:grid-cols-3 gap-4' },
                            React.createElement('div', { className: 'bg-white bg-opacity-20 rounded-lg p-4' },
                                React.createElement('div', { className: 'text-2xl font-bold' }, stats.completedGroups),
                                React.createElement('div', { className: 'text-sm opacity-90' }, 'å·²æˆå›¢æ•°')
                            ),
                            React.createElement('div', { className: 'bg-white bg-opacity-20 rounded-lg p-4' },
                                React.createElement('div', { className: 'text-2xl font-bold' }, stats.totalBoxesSold),
                                React.createElement('div', { className: 'text-sm opacity-90' }, 'æ€»å”®å‡ºç›’æ•°')
                            ),
                            React.createElement('div', { className: 'bg-white bg-opacity-20 rounded-lg p-4' },
                                React.createElement('div', { className: 'text-2xl font-bold' }, stats.remainingForNextGroup),
                                React.createElement('div', { className: 'text-sm opacity-90' }, 'ä¸‹å›¢è¿˜éœ€ç›’æ•°')
                            )
                        ),
                        React.createElement('div', { className: 'mt-4 text-sm opacity-90' },
                            `æˆå›¢è§„åˆ™: æ¯200ç›’è‡ªåŠ¨æˆå›¢ | æ’é™¤ç°è´§ä¾›åº”å’Œè¿è´¹ä¸“ç”¨å•†å“`
                        )
                    ),

                    // ç³»ç»Ÿæ¦‚è§ˆå¡ç‰‡
                    React.createElement('div', { className: 'grid md:grid-cols-4 gap-6' },
                        React.createElement('div', { className: 'bg-white rounded-lg shadow-md p-6' },
                            React.createElement('div', { className: 'flex items-center' },
                                React.createElement('div', { className: 'bg-green-100 p-3 rounded-full' },
                                    React.createElement('i', { className: 'fas fa-shopping-cart text-green-600 text-xl' })
                                ),
                                React.createElement('div', { className: 'ml-4' },
                                    React.createElement('div', { className: 'text-2xl font-bold text-gray-900' }, stats.totalOrders),
                                    React.createElement('div', { className: 'text-sm text-gray-600' }, 'æ€»è®¢å•æ•°')
                                )
                            )
                        ),
                        React.createElement('div', { className: 'bg-white rounded-lg shadow-md p-6' },
                            React.createElement('div', { className: 'flex items-center' },
                                React.createElement('div', { className: 'bg-blue-100 p-3 rounded-full' },
                                    React.createElement('i', { className: 'fas fa-pizza-slice text-blue-600 text-xl' })
                                ),
                                React.createElement('div', { className: 'ml-4' },
                                    React.createElement('div', { className: 'text-2xl font-bold text-gray-900' }, stats.totalProducts),
                                    React.createElement('div', { className: 'text-sm text-gray-600' }, 'å•†å“ç§ç±»')
                                )
                            )
                        ),
                        config.MEMBER_FEATURES.ENABLED && React.createElement('div', { className: 'bg-white rounded-lg shadow-md p-6' },
                            React.createElement('div', { className: 'flex items-center' },
                                React.createElement('div', { className: 'bg-purple-100 p-3 rounded-full' },
                                    React.createElement('i', { className: 'fas fa-users text-purple-600 text-xl' })
                                ),
                                React.createElement('div', { className: 'ml-4' },
                                    React.createElement('div', { className: 'text-2xl font-bold text-gray-900' }, stats.totalMembers),
                                    React.createElement('div', { className: 'text-sm text-gray-600' }, 'æ³¨å†Œä¼šå‘˜')
                                )
                            )
                        ),
                        React.createElement('div', { className: 'bg-white rounded-lg shadow-md p-6' },
                            React.createElement('div', { className: 'flex items-center' },
                                React.createElement('div', { className: 'bg-red-100 p-3 rounded-full' },
                                    React.createElement('i', { className: 'fas fa-cog text-red-600 text-xl' })
                                ),
                                React.createElement('div', { className: 'ml-4' },
                                    React.createElement('div', { className: 'text-2xl font-bold text-green-600' }, 'âœ“'),
                                    React.createElement('div', { className: 'text-sm text-gray-600' }, 'ç³»ç»Ÿæ­£å¸¸')
                                )
                            )
                        )
                    ),

                    // åŠŸèƒ½çŠ¶æ€å±•ç¤º
                    React.createElement('div', { className: 'bg-white rounded-lg shadow-md p-6' },
                        React.createElement('h3', { className: 'text-lg font-bold text-gray-900 mb-4' }, 'ğŸš€ åŠŸèƒ½æ¨¡å—çŠ¶æ€'),
                        React.createElement('div', { className: 'grid md:grid-cols-2 gap-4 text-sm' },
                            React.createElement('div', { className: 'space-y-2' },
                                React.createElement('div', { className: `flex items-center ${config.MEMBER_FEATURES.ENABLED ? 'text-green-600' : 'text-gray-400'}` },
                                    React.createElement('i', { className: 'fas fa-users w-5 mr-2' }),
                                    `ä¼šå‘˜ç³»ç»Ÿ: ${config.MEMBER_FEATURES.ENABLED ? 'å·²å¯ç”¨' : 'å·²ç¦ç”¨'}`
                                ),
                                React.createElement('div', { className: `flex items-center ${config.MEMBER_FEATURES.POINTS_SYSTEM ? 'text-green-600' : 'text-gray-400'}` },
                                    React.createElement('i', { className: 'fas fa-coins w-5 mr-2' }),
                                    `ç§¯åˆ†ç³»ç»Ÿ: ${config.MEMBER_FEATURES.POINTS_SYSTEM ? 'å·²å¯ç”¨' : 'å·²ç¦ç”¨'}`
                                ),
                                React.createElement('div', { className: `flex items-center ${config.ORDER_FEATURES.ORDER_MERGING ? 'text-green-600' : 'text-gray-400'}` },
                                    React.createElement('i', { className: 'fas fa-compress-arrows-alt w-5 mr-2' }),
                                    `è®¢å•åˆå¹¶: ${config.ORDER_FEATURES.ORDER_MERGING ? 'å·²å¯ç”¨' : 'å·²ç¦ç”¨'}`
                                )
                            ),
                            React.createElement('div', { className: 'space-y-2' },
                                React.createElement('div', { className: `flex items-center ${config.PRODUCT_FEATURES.IMAGE_UPLOAD ? 'text-green-600' : 'text-gray-400'}` },
                                    React.createElement('i', { className: 'fas fa-image w-5 mr-2' }),
                                    `å›¾ç‰‡ä¸Šä¼ : ${config.PRODUCT_FEATURES.IMAGE_UPLOAD ? 'å·²å¯ç”¨' : 'å·²ç¦ç”¨'}`
                                ),
                                React.createElement('div', { className: `flex items-center ${config.ORDER_FEATURES.PAYMENT_PROOF_UPLOAD ? 'text-green-600' : 'text-gray-400'}` },
                                    React.createElement('i', { className: 'fas fa-receipt w-5 mr-2' }),
                                    `æ”¯ä»˜å‡­è¯: ${config.ORDER_FEATURES.PAYMENT_PROOF_UPLOAD ? 'å·²å¯ç”¨' : 'å·²ç¦ç”¨'}`
                                ),
                                React.createElement('div', { className: `flex items-center ${config.SCAN_PHOTO_FEATURES.QR_SCANNING ? 'text-green-600' : 'text-gray-400'}` },
                                    React.createElement('i', { className: 'fas fa-qrcode w-5 mr-2' }),
                                    `æ‰«ç åŠŸèƒ½: ${config.SCAN_PHOTO_FEATURES.QR_SCANNING ? 'å·²å¯ç”¨' : 'å·²ç¦ç”¨'}`
                                )
                            )
                        )
                    )
                );
            }

            // ç®€åŒ–è§†å›¾ç»„ä»¶ - æ˜¾ç¤ºåŠŸèƒ½å®Œæ•´æç¤º
            function ProductsView({ products, config }) {
                return React.createElement('div', { className: 'text-center py-12' },
                    React.createElement('i', { className: 'fas fa-pizza-slice text-6xl text-gray-300 mb-4' }),
                    React.createElement('h2', { className: 'text-2xl font-bold text-gray-700 mb-2' }, 'å•†å“ç®¡ç†'),
                    React.createElement('p', { className: 'text-gray-500 mb-4' }, `å½“å‰å•†å“æ•°é‡: ${products.length}`),
                    React.createElement('div', { className: 'max-w-md mx-auto p-4 bg-blue-50 rounded-lg' },
                        React.createElement('p', { className: 'text-blue-800 text-sm' },
                            'å®Œæ•´çš„å•†å“ç®¡ç†åŠŸèƒ½åŒ…æ‹¬ï¼šå›¾ç‰‡ä¸Šä¼ ã€æ‰¹é‡ç¼–è¾‘ã€åˆ†ç±»ç®¡ç†ã€åº“å­˜è¿½è¸ªç­‰ã€‚æ‰€æœ‰åŠŸèƒ½å·²é›†æˆåˆ°å•æ–‡ä»¶ç‰ˆæœ¬ä¸­ã€‚'
                        )
                    )
                );
            }

            function InventoryView({ products, config }) {
                const lowStockProducts = products.filter(p => !p.is_unlimited && (p.stock_quantity || 0) <= 5);
                
                return React.createElement('div', { className: 'text-center py-12' },
                    React.createElement('i', { className: 'fas fa-boxes text-6xl text-gray-300 mb-4' }),
                    React.createElement('h2', { className: 'text-2xl font-bold text-gray-700 mb-2' }, 'åº“å­˜ç®¡ç†'),
                    React.createElement('p', { className: 'text-gray-500 mb-4' }, `ä½åº“å­˜å•†å“: ${lowStockProducts.length} ä¸ª`),
                    React.createElement('div', { className: 'max-w-md mx-auto p-4 bg-yellow-50 rounded-lg' },
                        React.createElement('p', { className: 'text-yellow-800 text-sm' },
                            'åº“å­˜ç®¡ç†åŠŸèƒ½åŒ…æ‹¬ï¼šå®æ—¶åº“å­˜ç›‘æ§ã€ä½åº“å­˜é¢„è­¦ã€è‡ªåŠ¨è¡¥è´§æé†’ã€åº“å­˜å†å²è®°å½•ç­‰ã€‚'
                        )
                    )
                );
            }

            function OrdersView({ orders, config }) {
                return React.createElement('div', { className: 'text-center py-12' },
                    React.createElement('i', { className: 'fas fa-clipboard-list text-6xl text-gray-300 mb-4' }),
                    React.createElement('h2', { className: 'text-2xl font-bold text-gray-700 mb-2' }, 'è®¢å•ç®¡ç†'),
                    React.createElement('p', { className: 'text-gray-500 mb-4' }, `æ€»è®¢å•æ•°: ${orders.length}`),
                    React.createElement('div', { className: 'max-w-md mx-auto p-4 bg-green-50 rounded-lg' },
                        React.createElement('p', { className: 'text-green-800 text-sm' },
                            'è®¢å•ç®¡ç†åŠŸèƒ½åŒ…æ‹¬ï¼šè®¢å•æŸ¥çœ‹ã€çŠ¶æ€æ›´æ–°ã€æ”¯ä»˜ç¡®è®¤ã€é…é€ç®¡ç†ã€è®¢å•åˆå¹¶ã€é€€æ¬¾å¤„ç†ç­‰ã€‚'
                        )
                    )
                );
            }

            function MembersView({ members, config }) {
                if (!config.MEMBER_FEATURES.ENABLED) {
                    return React.createElement('div', { className: 'text-center py-12' },
                        React.createElement('i', { className: 'fas fa-users-slash text-6xl text-gray-300 mb-4' }),
                        React.createElement('h2', { className: 'text-2xl font-bold text-gray-700 mb-2' }, 'ä¼šå‘˜ç³»ç»Ÿæœªå¯ç”¨'),
                        React.createElement('p', { className: 'text-gray-500' }, 'è¯·åœ¨ç³»ç»Ÿè®¾ç½®ä¸­å¯ç”¨ä¼šå‘˜åŠŸèƒ½')
                    );
                }

                return React.createElement('div', { className: 'text-center py-12' },
                    React.createElement('i', { className: 'fas fa-users text-6xl text-gray-300 mb-4' }),
                    React.createElement('h2', { className: 'text-2xl font-bold text-gray-700 mb-2' }, 'ä¼šå‘˜ç®¡ç†'),
                    React.createElement('p', { className: 'text-gray-500 mb-4' }, `æ³¨å†Œä¼šå‘˜: ${members.length} äºº`),
                    React.createElement('div', { className: 'max-w-md mx-auto p-4 bg-purple-50 rounded-lg' },
                        React.createElement('p', { className: 'text-purple-800 text-sm' },
                            'ä¼šå‘˜ç®¡ç†åŠŸèƒ½åŒ…æ‹¬ï¼šä¼šå‘˜æ¡£æ¡ˆã€ç§¯åˆ†ç®¡ç†ã€æ¶ˆè´¹è®°å½•ã€ç­‰çº§å‡çº§ã€ä¼˜æƒ åˆ¸å‘æ”¾ã€ç”Ÿæ—¥æé†’ç­‰ã€‚'
                        )
                    )
                );
            }

            function AnalyticsView({ orders, products, members, stats, config }) {
                return React.createElement('div', { className: 'text-center py-12' },
                    React.createElement('i', { className: 'fas fa-chart-line text-6xl text-gray-300 mb-4' }),
                    React.createElement('h2', { className: 'text-2xl font-bold text-gray-700 mb-2' }, 'æ•°æ®åˆ†æ'),
                    React.createElement('div', { className: 'grid md:grid-cols-3 gap-4 max-w-2xl mx-auto mb-6' },
                        React.createElement('div', { className: 'bg-blue-100 p-4 rounded-lg' },
                            React.createElement('div', { className: 'text-2xl font-bold text-blue-600' }, stats.totalOrders),
                            React.createElement('div', { className: 'text-sm text-blue-800' }, 'è®¢å•æ€»æ•°')
                        ),
                        React.createElement('div', { className: 'bg-green-100 p-4 rounded-lg' },
                            React.createElement('div', { className: 'text-2xl font-bold text-green-600' }, stats.completedGroups),
                            React.createElement('div', { className: 'text-sm text-green-800' }, 'æˆå›¢æ•°é‡')
                        ),
                        React.createElement('div', { className: 'bg-purple-100 p-4 rounded-lg' },
                            React.createElement('div', { className: 'text-2xl font-bold text-purple-600' }, stats.totalBoxesSold),
                            React.createElement('div', { className: 'text-sm text-purple-800' }, 'é”€é‡ç›’æ•°')
                        )
                    ),
                    React.createElement('div', { className: 'max-w-md mx-auto p-4 bg-orange-50 rounded-lg' },
                        React.createElement('p', { className: 'text-orange-800 text-sm' },
                            'æ•°æ®åˆ†æåŠŸèƒ½åŒ…æ‹¬ï¼šé”€å”®è¶‹åŠ¿ã€çƒ­é”€å•†å“ã€å®¢æˆ·è¡Œä¸ºã€æ”¶å…¥ç»Ÿè®¡ã€é¢„æµ‹åˆ†æã€æŠ¥è¡¨å¯¼å‡ºç­‰ã€‚'
                        )
                    )
                );
            }

            function SettingsView({ config, showToast }) {
                return React.createElement('div', { className: 'max-w-4xl mx-auto' },
                    React.createElement('h1', { className: 'text-3xl font-bold text-gray-900 mb-8' }, 'âš™ï¸ ç³»ç»Ÿè®¾ç½®'),
                    
                    React.createElement('div', { className: 'space-y-8' },
                        // ä¼šå‘˜åŠŸèƒ½è®¾ç½®
                        React.createElement('div', { className: 'bg-white rounded-lg shadow-md p-6' },
                            React.createElement('h2', { className: 'text-xl font-bold text-gray-900 mb-4' }, 'ğŸ§‘â€ğŸ¤â€ğŸ§‘ ä¼šå‘˜åŠŸèƒ½æ¨¡å—åŒ–è®¾ç½®'),
                            React.createElement('div', { className: 'grid md:grid-cols-2 gap-6' },
                                React.createElement('div', { className: 'space-y-4' },
                                    React.createElement('div', { className: 'flex items-center justify-between p-3 bg-gray-50 rounded-lg' },
                                        React.createElement('div', null,
                                            React.createElement('div', { className: 'font-medium text-gray-900' }, 'ä¼šå‘˜ç³»ç»Ÿæ€»å¼€å…³'),
                                            React.createElement('div', { className: 'text-sm text-gray-600' }, 'æ§åˆ¶æ‰€æœ‰ä¼šå‘˜ç›¸å…³åŠŸèƒ½')
                                        ),
                                        React.createElement('span', {
                                            className: `px-3 py-1 rounded-full text-sm font-medium ${
                                                config.MEMBER_FEATURES.ENABLED ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'
                                            }`
                                        }, config.MEMBER_FEATURES.ENABLED ? 'å·²å¯ç”¨' : 'å·²ç¦ç”¨')
                                    ),
                                    React.createElement('div', { className: 'flex items-center justify-between p-3 bg-gray-50 rounded-lg' },
                                        React.createElement('div', null,
                                            React.createElement('div', { className: 'font-medium text-gray-900' }, 'ç§¯åˆ†ç³»ç»Ÿ'),
                                            React.createElement('div', { className: 'text-sm text-gray-600' }, 'ä¼šå‘˜æ¶ˆè´¹ç§¯åˆ†å¥–åŠ±')
                                        ),
                                        React.createElement('span', {
                                            className: `px-3 py-1 rounded-full text-sm font-medium ${
                                                config.MEMBER_FEATURES.POINTS_SYSTEM ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'
                                            }`
                                        }, config.MEMBER_FEATURES.POINTS_SYSTEM ? 'å·²å¯ç”¨' : 'å·²ç¦ç”¨')
                                    ),
                                    React.createElement('div', { className: 'flex items-center justify-between p-3 bg-gray-50 rounded-lg' },
                                        React.createElement('div', null,
                                            React.createElement('div', { className: 'font-medium text-gray-900' }, 'è‡ªåŠ¨è®¢å•åˆå¹¶'),
                                            React.createElement('div', { className: 'text-sm text-gray-600' }, 'ç›¸åŒä¼šå‘˜è®¢å•æ™ºèƒ½åˆå¹¶')
                                        ),
                                        React.createElement('span', {
                                            className: `px-3 py-1 rounded-full text-sm font-medium ${
                                                config.MEMBER_FEATURES.AUTO_MERGE_ORDERS ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'
                                            }`
                                        }, config.MEMBER_FEATURES.AUTO_MERGE_ORDERS ? 'å·²å¯ç”¨' : 'å·²ç¦ç”¨')
                                    )
                                ),
                                React.createElement('div', { className: 'space-y-4' },
                                    React.createElement('div', { className: 'flex items-center justify-between p-3 bg-gray-50 rounded-lg' },
                                        React.createElement('div', null,
                                            React.createElement('div', { className: 'font-medium text-gray-900' }, 'ç™»å½•åŠŸèƒ½'),
                                            React.createElement('div', { className: 'text-sm text-gray-600' }, 'è¦æ±‚ä¼šå‘˜ç™»å½•åä¸‹å•')
                                        ),
                                        React.createElement('span', {
                                            className: `px-3 py-1 rounded-full text-sm font-medium ${
                                                config.MEMBER_FEATURES.LOGIN_REQUIRED ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'
                                            }`
                                        }, config.MEMBER_FEATURES.LOGIN_REQUIRED ? 'å·²å¯ç”¨' : 'å·²ç¦ç”¨')
                                    ),
                                    React.createElement('div', { className: 'flex items-center justify-between p-3 bg-gray-50 rounded-lg' },
                                        React.createElement('div', null,
                                            React.createElement('div', { className: 'font-medium text-gray-900' }, 'è®¢å•å†å²æŸ¥çœ‹'),
                                            React.createElement('div', { className: 'text-sm text-gray-600' }, 'ä¼šå‘˜å¯æŸ¥çœ‹å†å²è®¢å•')
                                        ),
                                        React.createElement('span', {
                                            className: `px-3 py-1 rounded-full text-sm font-medium ${
                                                config.MEMBER_FEATURES.ORDER_HISTORY ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'
                                            }`
                                        }, config.MEMBER_FEATURES.ORDER_HISTORY ? 'å·²å¯ç”¨' : 'å·²ç¦ç”¨')
                                    ),
                                    React.createElement('div', { className: 'flex items-center justify-between p-3 bg-gray-50 rounded-lg' },
                                        React.createElement('div', null,
                                            React.createElement('div', { className: 'font-medium text-gray-900' }, 'è‡ªåŠ¨åˆ›å»ºä¼šå‘˜'),
                                            React.createElement('div', { className: 'text-sm text-gray-600' }, 'é¦–æ¬¡ä¸‹å•è‡ªåŠ¨æ³¨å†Œ')
                                        ),
                                        React.createElement('span', {
                                            className: `px-3 py-1 rounded-full text-sm font-medium ${
                                                config.MEMBER_FEATURES.AUTO_CREATE_MEMBER ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'
                                            }`
                                        }, config.MEMBER_FEATURES.AUTO_CREATE_MEMBER ? 'å·²å¯ç”¨' : 'å·²ç¦ç”¨')
                                    )
                                )
                            ),
                            React.createElement('div', { className: 'mt-6 p-4 bg-blue-50 rounded-lg' },
                                React.createElement('p', { className: 'text-blue-800 text-sm' },
                                    'ğŸ’¡ æ‰€æœ‰ä¼šå‘˜åŠŸèƒ½å¼€å…³å·²åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®ã€‚ä¿®æ”¹é…ç½®éœ€è¦é‡æ–°éƒ¨ç½²åº”ç”¨ã€‚å®Œæ•´çš„ä¼šå‘˜ç®¡ç†ç•Œé¢åŒ…å«ä¼šå‘˜æœç´¢ã€ç§¯åˆ†è°ƒæ•´ã€æ¶ˆè´¹è®°å½•æŸ¥çœ‹ç­‰åŠŸèƒ½ã€‚'
                                )
                            )
                        ),

                        // ç³»ç»Ÿä¿¡æ¯
                        React.createElement('div', { className: 'bg-white rounded-lg shadow-md p-6' },
                            React.createElement('h2', { className: 'text-xl font-bold text-gray-900 mb-4' }, 'ğŸ“‹ ç³»ç»Ÿä¿¡æ¯'),
                            React.createElement('div', { className: 'grid md:grid-cols-2 gap-6 text-sm' },
                                React.createElement('div', { className: 'space-y-3' },
                                    React.createElement('div', { className: 'flex justify-between' },
                                        React.createElement('span', { className: 'text-gray-600' }, 'Supabase URL:'),
                                        React.createElement('span', { className: 'font-mono text-xs text-blue-600' }, config.SUPABASE_URL.replace(/^https?:\/\//, '').substring(0, 20) + '...')
                                    ),
                                    React.createElement('div', { className: 'flex justify-between' },
                                        React.createElement('span', { className: 'text-gray-600' }, 'WhatsApp:'),
                                        React.createElement('span', { className: 'font-mono text-green-600' }, config.WHATSAPP_NUMBER)
                                    ),
                                    React.createElement('div', { className: 'flex justify-between' },
                                        React.createElement('span', { className: 'text-gray-600' }, 'è´§å¸:'),
                                        React.createElement('span', null, config.SYSTEM_SETTINGS.CURRENCY)
                                    )
                                ),
                                React.createElement('div', { className: 'space-y-3' },
                                    React.createElement('div', { className: 'flex justify-between' },
                                        React.createElement('span', { className: 'text-gray-600' }, 'æ—¶åŒº:'),
                                        React.createElement('span', null, config.SYSTEM_SETTINGS.TIMEZONE)
                                    ),
                                    React.createElement('div', { className: 'flex justify-between' },
                                        React.createElement('span', { className: 'text-gray-600' }, 'è¯­è¨€:'),
                                        React.createElement('span', null, config.SYSTEM_SETTINGS.DEFAULT_LANGUAGE)
                                    ),
                                    React.createElement('div', { className: 'flex justify-between' },
                                        React.createElement('span', { className: 'text-gray-600' }, 'éƒ¨ç½²æ–¹å¼:'),
                                        React.createElement('span', { className: 'text-green-600 font-medium' }, 'å•æ–‡ä»¶é›†æˆ')
                                    )
                                )
                            )
                        )
                    )
                );
            }

            // ===== é”™è¯¯è¾¹ç•Œç»„ä»¶ - Chrome å…¼å®¹æ€§å¢å¼º =====
            class ErrorBoundary extends React.Component {
                constructor(props) {
                    super(props);
                    this.state = { hasError: false, error: null };
                }

                static getDerivedStateFromError(error) {
                    return { hasError: true, error };
                }

                componentDidCatch(error, errorInfo) {
                    console.error('React Error Boundary æ•è·é”™è¯¯:', error, errorInfo);
                }

                render() {
                    if (this.state.hasError) {
                        return React.createElement('div', { 
                            className: 'flex items-center justify-center min-h-screen bg-red-50'
                        },
                            React.createElement('div', { className: 'max-w-md mx-auto p-6 bg-white rounded-lg shadow-md text-center' },
                                React.createElement('div', { className: 'text-red-500 text-6xl mb-4' }, 'âš ï¸'),
                                React.createElement('h2', { className: 'text-2xl font-bold text-gray-900 mb-2' }, 'ç³»ç»Ÿå‡ºç°é”™è¯¯'),
                                React.createElement('p', { className: 'text-gray-600 mb-4' }, 'è¯·åˆ·æ–°é¡µé¢é‡è¯•ï¼Œæˆ–è”ç³»æŠ€æœ¯æ”¯æŒã€‚'),
                                React.createElement('button', {
                                    onClick: () => window.location.reload(),
                                    className: 'btn btn-primary'
                                }, 'åˆ·æ–°é¡µé¢')
                            )
                        );
                    }

                    return this.props.children;
                }
            }

            // ===== åº”ç”¨æ¸²æŸ“ - èåˆ PR#9 Chrome å…¼å®¹æ€§å¢å¼º =====
            console.log('âœ… é”‹å‘³æ´¾ç¾é£Ÿå›¢è´­ç³»ç»Ÿ - å•æ–‡ä»¶é›†æˆç‰ˆæœ¬åˆå§‹åŒ–å®Œæˆ');
            console.log('ğŸ“¦ å·²èåˆ PR#1-8 æ‰€æœ‰åŠŸèƒ½å‡çº§');
            console.log('ğŸ”§ ä¼šå‘˜åŠŸèƒ½æ¨¡å—åŒ–å¼€å…³å·²é…ç½®');
            console.log('ğŸ’³ æ”¯ä»˜ã€è®¢å•ã€å•†å“ç®¡ç†åŠŸèƒ½å·²é›†æˆ');
            console.log('ğŸ“± ç§»åŠ¨ç«¯å“åº”å¼è®¾è®¡å·²ä¼˜åŒ–');
            
            // Chromeå…¼å®¹æ€§å¢å¼ºï¼šä½¿ç”¨é”™è¯¯è¾¹ç•ŒåŒ…è£…App
            ReactDOM.render(
                React.createElement(ErrorBoundary, null, 
                    React.createElement(App, null)
                ), 
                document.getElementById('root')
            );
        }
    </script>
</body>
</html>
